fxtab = [
	guistayopen [
		guibutton "(effect OFF)"          "clearpostfx"
		guibutton "rotoscope" "rotoscope 1"
		guibutton "rotoscope + blur3" "rotoscope 1 1"
		guibutton "rotoscope + blur5" "rotoscope 1 2"
		guibutton "sobel"  "setpostfx sobel"
		guibutton "invert" "setpostfx invert"
		guibutton "gbr"    "setpostfx gbr"
		guibutton "bw"     "setpostfx bw"
		guibutton "blur3"  "setpostfx hblur3; addpostfx vblur3"
		guibutton "blur5"  "setpostfx hblur5; addpostfx vblur5"
		guibutton (format "bloom (%1%2)" $bloomstrength "%")    "bloom (divf $bloomstrength 100)"
		guislider bloomstrength -100 100
	]
]

brushmenu = [
	guititle "brushes"
  guilist [ // diamonds
  guiimage "data/brush_1c.png" brush_0
  guiimage "data/brush_21c.png" brush_1
  guiimage "data/brush_421c.png" brush_2
  ]
  guilist [ // squares
  guiimage "data/brush_3s.png" brush_3
  guiimage "data/brush_5s.png" brush_4
  guiimage "data/brush_7s.png" brush_5
  ]
  guititle smooth
  guilist [ // smooth
  guiimage "data/brush_3s.png" brush_6
  guiimage "data/brush_5s.png" brush_7
  guiimage "data/brush_7s.png" brush_8
  ]
]

quickeditmenu = [
	guibutton "Savemap" "showgui savemap"
	guibutton "Loadmap" "showgui loadmap"
	guibar
	guibutton "Remip" "remip"
	guibutton "Quick Light" "calclight -1"
	guibar
	guibutton "New Entity" "newent light 64 240 200 150"
]

matmenu = [
	guibutton "air" "air"  "" 0xFFFFFF
	guibutton "clip" "clip" "" 0xFF0000
	guibutton "glass" "glass" "" 0x00FFFF
	guibutton "lava" "lava" "" 0xFFA700
	guibutton "noclip" "noclip" "" 0x00FF00
	guibutton "water" "water" "" 0x0000FF
	guibutton "respawn" "editmat respawn" "" 0x2E2E2E
	guibar
	guicheckbox "Show Material Volumes (M)" showmat
]

texqual = [
	guitext "Texture Quality"
	guilist [
		guiradio "Full"		texreduce 0
		guibar
		guiradio "Average"	texreduce 1
		guibar
		guiradio "Mediocre"	texreduce 2
		guibar
		guiradio "Bad"		texreduce 3
		guibar
		guiradio "Very Bad"	texreduce 4
		guibar
		guiradio "CEL style"	texreduce 12
	]
]

newgui "console" [
	guitext "console size (lines)"
	guislider consize 
	guitext "console message filter:"
	guilist [
		guilist [
			guibitfield "important information" confilter 0x01  
			guibitfield "warnings" confilter 0x02
			guibitfield "errors" confilter 0x04
			guibitfield "debug messages" confilter 0x08
			guibitfield "init messages" confilter 0x10
			guibitfield "script messages" confilter 0x20
		]
		guibar
		guilist [
			guibitfield "chat" confilter 0x100
			guibitfield "team chat" confilter 0x200
			guibitfield "important game events" confilter 0x400
			guibitfield "fell of the world" confilter 0x800
			guibitfield "others fell of the world" confilter 0x1000
		]
	]
	guitext "full console size (percent of screen)"
	guislider fullconsize
	guitext "full console message filter:"
	guilist [
		guilist [
			guibitfield "important information" fullconfilter 0x01
			guibitfield "warnings" fullconfilter 0x02
			guibitfield "errors" fullconfilter 0x04
			guibitfield "debug messages" fullconfilter 0x08
			guibitfield "init messages" fullconfilter 0x10
			guibitfield "script messages" fullconfilter 0x20
		]
		guibar
		guilist [
			guibitfield "chat" fullconfilter 0x100
			guibitfield "team chat" fullconfilter 0x200
			guibitfield "important game events" fullconfilter 0x400
			guibitfield "Fell of the World" fullconfilter 0x800
			guibitfield "Others fell of the world" fullconfilter 0x1000
		]
	]
]

options1 = [
	guitab "Sound"
	guilist [
		guilist [
			guicheckbox "Mumble Positional Audio	" mumble
			guitext "Sound Volume"
			guitext "Music Volume"
			guitext "Sound Frequency"
		]
		guilist [
			guitext "				"
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
		]
	]
	
	guitab "Graphics"
	guicheckbox "Fullscreen" fullscreen
	guicheckbox "Shaders" shaders
	guibar
	guicheckbox "Water Shaders" watershaders 1 0 [waterreflect $watershaders; waterrefract $watershaders; waterfade $watershaders; vertwater $watershaders; caustics $watershaders; refractfog $watershaders; waterfallrefract $watershaders]
	guicheckbox "Static Reflections" pregenreflect 1 0 [glassenv $pregenreflect; envmapmodels $pregenreflect; waterenvmap $pregenreflect; waterfallenv $pregenreflect]
	guicheckbox "Model Effects" modeleffect 1 0 [lightmodels $modeleffect; glowmodels $modeleffect]
	guicheckbox "Soft Shadows" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
	guicheckbox "Grass" grass
	guicheckbox "Use legacy object culling" pvs
	@texqual
	
	guitab "FX"
	@fxtab
]

options2 = [
	guitab "Sound"
	guilist [
		guilist [
			guicheckbox "stereo			" stereo
			guitext "Sound Volume"
			guitext "Music Volume"
			guitext "Sound Frequency"
			guitext "Sound Channels"
			guitext "Sound Buffer Length"
		]
		guilist [
			guicheckbox "Mumble Positional Audio		" mumble
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
			guislider soundchans
			guilistslider soundbufferlen "128 256 512 768 1024 1280 1536 1792 2048 2304 2560 2816 3072 3328 3584 3840 4096"
		]
	]
	
	guitab "Graphics"
	guilist [
		guilist [
			guicheckbox "Shaders			" shaders
			guislider shaderdetail
			guicheckbox "Caustics" caustics
			guicheckbox "Glass Reflections" glassenv
			guicheckbox "Grass" grass
			guicheckbox "PVS" pvs
			guicheckbox "Shadowmaps" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
			guitext "Models"
			guilist [
				guicheckbox "Lighting	" lightmodels
				guibar
				guicheckbox "Reflections	" envmapmodels
				guibar
				guicheckbox "Glow	" glowmodels
				guibar
				guicheckbox "Bump map" bumpmodels
			]
			guitext "Water and Waterfalls"
			guilist [
				guicheckbox "Depth Fog" refractfog
				guibar
				guicheckbox "Env Map		" "waterenvmap"
				guibar
				guicheckbox "Reflection		" waterreflect
				guibar
				guicheckbox "Fall Refraction" waterfallrefract
			]
			guilist [
				guicheckbox "Refraction	" waterrefract
				guibar
				guicheckbox "Variable Alpha	" waterfade
				guibar
				guicheckbox "Vertex Animation	" vertwater
				guibar
				guicheckbox "Fall Env map" waterfallenv
			]
		]
	]
	@texqual
	
	guitab "Advanced Rendering"
	guilist [
		guilist [
			guicheckbox "v-sync			"		vsync 1 0
			guitext "Maximum FPS"
			guitext "Gamma"
			guitext "Fullscreen Anti-Aliasing"
			guitext "Anisotropic Filtering"
			guitext "Shader Precision"
		]
		guilist [
			guicheckbox "Fullscreen					"	fullscreen
			guislider maxfps
			guislider gamma
			guilistslider fsaa "-1 0 2 4 8 16"
			guilistslider aniso "0 2 4 8 16"
			guislider "shaderprecision"
		]
	]
	
	guitab "FX"
	@fxtab
]

options3 = [
	guitab "Sound"
	guilist [
		guilist [
			guicheckbox "stereo			" stereo
			guitext "Sound Volume"
			guitext "Music Volume"
			guitext "Sound Frequency"
			guitext "Sound Channels"
			guitext "Sound Buffer Length"
		]
		guilist [
			guicheckbox "Mumble Positional Audio			" mumble
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
			guislider soundchans
			guilistslider soundbufferlen "128 256 512 768 1024 1280 1536 1792 2048 2304 2560 2816 3072 3328 3584 3840 4096"
		]
	]

	guitab "Graphics"
	guilist [
		guilist [
			guicheckbox "Glass Reflections" glassenv
			guicheckbox "Water Variable Alpha" waterfade
			guicheckbox "Water Vertex Animation" vertwater
			guicheckbox "Waterfall Refraction" waterfallrefract
			guicheckbox "Water Depth Fog" refractfog
			guicheckbox "Water Environment Map	" waterenvmap
			guicheckbox "Waterfall Environment Map" waterfallenv
			guicheckbox "Water Reflection" waterreflect
			guicheckbox "Water Refraction" waterrefract
		]
		guilist [
			guicheckbox "Model Light" lightmodels
			guicheckbox "Model Reflections" envmapmodels
			guicheckbox "Model Glow" glowmodels
			guicheckbox "Model Bumpmap" bumpmodels
			guicheckbox "Shaders" shaders
			guicheckbox "Caustics" caustics
			guicheckbox "PVS" pvs
			guicheckbox "Grass" grass
			guicheckbox "Shadowmaps" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
		]
		guibar
		guilist [
			guitext "Shader Detail"
			guislider shaderdetail
			guitext "Environment Map Quality	"
			guislider envmapsize
			guitext "Reflection Quality"
			guislider reflectsize
			guitext "Shadowmap Quality"
			guislider shadowmapsize
			guitext "Water Smoothing"
			guislider watersubdiv
		]
	]
	guibar
	@texqual
	
	guitab "Advanced Rendering"
	guilist [
		guilist [
			guicheckbox "v-sync			"		vsync 1 0
			guicheckbox "Trilinear Filtering	" trilinear
			guitext "Maximum FPS"
			guitext "Gamma"
			guitext "Fullscreen Anti-Aliasing"
			guitext "Color Depth"
			guitext "Z-Buffer Depth"
			guitext "Stencil Bits"
			guitext "Anisotropic Filtering"
			guitext "Shader Precision"
		]
		guilist [
			guicheckbox "Fullscreen					"	fullscreen
			guicheckbox "Bilinear Filtering" bilinear
			guislider maxfps
			guislider gamma
			guilistslider fsaa "-1 0 2 4 8 16"
			guilistslider colorbits "0 8 16 24 32"
			guilistslider depthbits "0 8 16 24 32"
			guislider stencilbits
			guilistslider aniso "0 2 4 8 16"
			guislider shaderprecision
		]
	]
	guitab "FX"
	@fxtab
]

qualnames = [
"AA : 1	Shadows : No	Model Shadows : No"
"AA : 2	Shadows : Yes	Model Shadows : No"
"AA : 4	Shadows : Yes	Model Shadows : No"
"AA : 8	Shadows : Yes	Model Shadows : No"
"AA : 8	Shadows : Yes	Model Shadows : Basic"
"AA : 8	Shadows : Yes	Model Shadows : Alpha Blended"
]

lightmenu = [
	guitext (at $qualnames (+ 2 $calcqual))
	guislider calcqual -2 3
	guilist [
		guibutton "Calculate		" "calclight $calcqual"
		guibutton "Patch Lighting" "patchlight $calcqual"
	]
]

entmen = [
	guitab "Ents"
	guilist [
		guitext "Show ent. radius"
		guiradio "off" showentradius 0
		guiradio "when selected" showentradius 1
		guiradio "in editmode" showentradius 2
		guiradio "always" showentradius 3
	]
		guilist [
		guitext "Show ent. direction"
		guiradio "off" showentdir 0
		guiradio "when selected" showentdir 1
		guiradio "in editmode" showentdir 2
		guiradio "always" showentdir 3
	]
	guibar
	guilistsplit n 2 $enttypelist@(getgame) [
		guibutton (concatword "New " $n " Entity  ") [ newent @n ]
	]
]

editing1 = [
	guibutton "Mapmodels" "showgui mapmodels"
	guibutton "Skyboxes" "showgui skies"
	guibar
	guibutton "Toggle Heightfield Mode (H)" "hmapedit (! $hmapedit)"
	guibutton "Copy Geometry (C)" "copy"
	guibutton "Paste Geometry (V)" "paste"
	guibutton "Select Selection Entities (N)" "entselect insel"
	guibar
	guitext "Float Speed"
	guislider floatspeed

	@entmen

	guitab "Light"
	@lightmenu
	
	guitab PVS
	guibutton "Help"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generate PVS" "genpvs $pvssize"
		guibutton "Test PVS"	"testpvs $pvssize"
		guibutton "Clear PVS"	"clearpvs"
		guibar
		guitext "PVS View grid size"
		guislider pvssize 0 8196
	]
]

editing2 = [
	guibutton "Mapmodels" "showgui mapmodels"
	guibutton "Skyboxes" "showgui skies"
	guibutton "Find Entity" "showgui entfind"
	guibar
	guibutton "Toggle Heightfield Mode (H)" "hmapedit (! hmapedit)"
	guilist [
		guibutton "Copy Geometry (C)		" "copy"
		guibutton "Copy Entities" "entcopy"
	]
	guilist [
		guibutton "Paste Geometry (V)		" "paste"
		guibutton "Paste Entities" "entpaste"
	]
	guibutton "Select Selection Entities (N)" "entselect insel"
	guibar
	guitext "Float Speed"
	guislider floatspeed

	@entmen

	guitab "Light"
	@lightmenu
	guilist [
		guilist [
			guicheckbox "Patch Normals	" patchnormals
			guitext "Ambience"
			guitext "Precision"
			guitext "Error"
		]
		guilist [
			guicheckbox "Full Bright (L)			" fullbright
			guislider ambient
			guislider lightprecision
			guislider lighterror
		]
	]
	
	guitab PVS
	guibutton "Help"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generate PVS" "genpvs $pvssize"
		guibutton "Test PVS" "testpvs $pvssize"
		guibutton "Clear PVS" "clearpvs"
		guibutton "PVS Statistics" "pvsstats"
		guibar
		guitext "PVS View grid size"
		guislider pvssize 0 8196
	]
]

editing3 = [
	guibutton "Mapmodels" "showgui mapmodels"
	guibutton "Skyboxes" "showgui skies"
	guibutton "Find Entity" "showgui entfind"
	guibar
	guibutton "Toggle Heightfield Mode" "hmapedit (! hmapedit)"
	guilist [
		guibutton "Copy Geometry (C)		" "copy"
		guibutton "Copy Entities" "entcopy"
	]
	guilist [
		guibutton "Paste Geometry (V)		" "paste"
		guibutton "Paste Entities" "entpaste"
	]
	guibutton "Select Selection Entities (N)" "entselect insel"
	guibar
	guitext "Float Speed"
	guislider floatspeed

	@entmen

	guitab "Light"
	guibutton "Modify Light Settings" "showgui lightlerp"
	@lightmenu
	guilist [
		guilist [
			guicheckbox "Patch Normals	" patchnormals
			guitext "Ambience"
			guitext "Precision"
			guitext "Error"
		]
		guilist [
		guicheckbox "Full Bright (L)			" fullbright
		guislider ambient
		guislider lightprecision
		guislider lighterror
		]
	]
	guistayopen [
		guibutton "Apply Skylight (RGB)" "skylight $skycol1 $skycol2 $skycol3"
	]
	guilist [
		guifield skycol1 5
		guibar
		guifield skycol2 5
		guibar
		guifield skycol3 5
	]
	
	guitab PVS
	guibutton "Help"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generate PVS" "genpvs $pvssize"
		guibutton "Test PVS" "testpvs $pvssize"
		guibutton "Clear PVS" "clearpvs"
		guibutton "PVS Statistics" "pvsstats"
	]
	guibar
	guitext "PVS View grid size"
	guislider pvssize 0 8196
	guitext "Threads to use"
	guislider "pvsthreads"
	guitext "pvs leaf size"
	guislider "pvsleafsize"
]
setmultieffectname = [
	if (< $multieffectvalue 3) [
		multieffectname = "Circle"
	] [
		if (< $multieffectvalue 6) [
			multieffectname = "Cylinder Shell"
		] [
			if (< $multieffectvalue 12) [
				multieffectname = "Cone Shell"
			] [
				if (< $multieffectvalue 15) [
					multieffectname = "Plane Volume"
				] [
					if (< $multieffectvalue 21) [
						multieffectname = "Line Volume (Wall)"
					] [
						multieffectname = "Sphere"
					]
				]
			]
		]
	]
]

newpartmultieffectname = [
	if (< $newpartmulteffect 3) [
		multieffectname = "Circle"
	] [
		if (< $newpartmulteffect 6) [
			multieffectname = "Cylinder Shell"
		] [
			if (< $newpartmulteffect 12) [
				multieffectname = "Cone Shell"
			] [
				if (< $newpartmulteffect 15) [
					multieffectname = "Plane Volume"
				] [
					if (< $newpartmulteffect 21) [
						multieffectname = "Line Volume (Wall)"
					] [
						multieffectname = "Sphere"
					]
				]
			]
		]
	]
]

skilllevelnames = "Basic Intermediate Advanced"

gamemodes = [
	guilist [
		guilist [
			guiradio "Single Player" MODE -1
			guiradio "Banana Relay" MODE 2
		]
		guilist [
			guiradio "Run Around" MODE 0
		]
		guilist [
			guiradio "Coopedit" MODE 1
		]
	]
]

genmusicitems = [
	if (= (listlen $arg1) 0) [
		guitext "Install the music pack before trying this menu"
	] @genmusicitems2
]

showfileeditor = [
    guinoautotab [
        guieditor $arg1 $arg2 $arg3
        guistayopen [
            guilist [
                guibutton "load" [textfocus @arg1; textmode 3; textload @arg1]
                guibar
                guibutton "save" [textfocus @arg1; textsave @arg1]
                guibar
                guibutton "copy" [textfocus @arg1; textcopy]
                guibar
                guibutton "paste" [textfocus @arg1; textmode 3; textpaste]
                guibar
                guibutton "select all" [textfocus @arg1; textselectall]
                guibar
                guibutton "clear" [textfocus @arg1; textclear]
            ]
        ]
    ]
]

loop i $enttypelength [
	newentgui (at $enttypelist@(getgame) $i) "" ""
]

newentgui light "radius red green blue" "0 400 0 255 0 255 0 255"
newentgui spotlight "radius" "0 200"
newentgui playerstart "direction" "0 360"
newentgui teleport "tag model" "0 20 -1 98"
newentgui teledest "direction tag" "0 360 0 20"
newentgui envmap "radius" "0 400"
newentgui jumppad "Z Y X" "0 200 0 200 0 200"
newentgui carrot "tag type" "0 50 0 29"
newentgui sound "type radius size" "0 20 0 500 0 500"
newentgui elevator "direction mapmodel tag speed" "0 360 0 (nummapmodels) 0 30 0 100"
newentgui barrel "direction mapmodel weight" "0 360 0 (nummapmodels) -100 100"
newentgui box "direction mapmodel weight" "0 360 0 (nummapmodels) -100 100"
newentgui platform "direction mapmodel tag speed" "0 360 0 (nummapmodels) 0 30 0 100"

main = [
	guilist [
		if (= $editing 1) [
			guilist [
				guibutton "Newmap"		"showgui newmap"
				guibutton "Savemap"		"showgui savemap"
	 			guibutton "New particle"	"showgui newparticles"
				guibutton "New light"		"showgui newlight"
				guibutton "New Mapmodel"	"showgui mapmodels"
				guibutton "Find Entities (F5)"	"showgui entfind"
				guibutton "Editing GUI"		"showgui editing"
				guibutton "Edit Materials"	"showgui materials"
				guibutton "Quickedit Menu (F3)"	"showquickgui"
				guibutton "Texture Menu (F2)"	"showtexgui"
			]
			guibar
		]
		guilist [
			guibutton "Toggle Editmode (e)"	"edittoggle"
			guibutton "Load Map"		"showgui maps; MODE = (getmode); mode (getmode)"
			guibutton "Load Custom Map"	"showgui loadmap"
			guibutton "Multiplayer"		"showgui multiplayer"
			guibar
			guibutton "Options"		"showgui options"
			guibutton "Jukebox"		"showgui jukebox"
			guibutton "Change Skill Level" 	"showgui skilllvl"
			guibutton "About"		"showgui authors"
			guibutton "Exit The Game"	quit	exit
		]
	]
]

newgui main [
	@main
]

newgui materials [
	@matmenu
]


newgui setglare [
	guitext "Intensity			"
	guislider glarescale 0 20
	guitext "Size"
	guislider glaresize
	guitext "Blur Intensity	"
	guislider blurglare
	guitext "Blur Radius"
	guislider blurglaresigma
	guitext "Particle Glare"
	guislider particleglare
	guicheckbox "Affect Skybox?" skyboxglare
	guibar
	guibutton "Back" "cleargui 1"
]

newgui debugsettings [
	guititle "Toggle stuff to debug"
	guicheckbox "Glare"		debugglare
	guicheckbox "Shaders"		dbgshader
	guicheckbox "Shadowmaps"	debugsm
	guicheckbox "Depth effects"	debugdepthfx
	guicheckbox "Particles"		debugparticles
	guibar
	guibutton "Back"	"cleargui 1"
]

newgui editopts [
	guititle "entities"
	guitext "Show radius"
	guilist [
		guiradio "off" showentradius 0
		guibar
		guiradio "when selected" showentradius 1
		guibar
		guiradio "in editmode" showentradius 2
		guibar
		guiradio "always" showentradius 3
	]
	guitext "Show ent. direction"
	guilist [
		guiradio "off" showentdir 0
		guibar
		guiradio "when selected" showentdir 1
		guibar
		guiradio "in editmode" showentdir 2
		guibar
		guiradio "always" showentdir 3
	]
	guitext "Show ent. Positions"
	guilist [
		guiradio "in editmode" showentities 1
		guibar
		guiradio "always" showentities 2
	]
	guibar
	guilist [
		guilist [
			guicheckbox "always show dynlights" showdynlights
			guicheckbox "preview lighting" "showlighting"
		]
		guibar
		guilist [
			guicheckbox "display particles" editingparticles
		]
	]
	guibar
	guitext "Select marker type (default 2)"
	guislider entmarkertype
	guitext "marker fireball size (default 8)"
	guislider entmarkerexpsize
	
	guitab "Appearance"
	guilist [
		guilist [
			guicheckbox "wireframe mode" wireframe
			guicheckbox "Show bounding boxes" showboundingbox
		]
		guibar
		guilist [
			guicheckbox "do depth testing for outline" dtoutline
			guicheckbox "show material volumes" showmat
		]
	]
	guititle "outlines"
	guilist [
		guistayopen [
			guitext "outlinecolour: "
			guibutton "back" "changeoutline -1"
			guitext (at $VARoutlinecolours $VARoutlinestatus)
			guibutton "next" "changeoutline 1"
		]
	]
	guilist [
		guitext "custom colour: "
		guifield outlinecolour  10 [outline $outlinecolour]
	]
	guitab "Editing"
	guicheckbox "heightmapmode (H)" hmapedit
	guitext "^^^ We'd really suggest you use the shortcut"
	guicheckbox "texture all faces (0)" allfaces
	guitext "gridsize"
	guislider gridsize
] "Options"

newgui jukebox [
	guitext "Select Which Playlists to use, this does not have any effect on the"
	guitext "Songs whilst starting up"
	guitext "DO NOT under any circumstance have them all disabled"
	guibar
	guicheckbox "Default list" musicdefault
	guicheckbox "Music Pack 1" musiclist1
	guicheckbox "Music Pack 2" musiclist2
	guicheckbox "Music Pack 3" musiclist3
	guicheckbox "Music Pack 4" musiclist4
	guicheckbox "Music Pack 5" musiclist5
	guicheckbox "Music Pack 6" musiclist6
	guibar
	guitext "Volume"
	guislider musicvol
	
	guitab "Default"
	guistayopen [
		loop i (listlen $songs) [
			guibutton (at $songs $i) "music $guirollovername nextsong"
		]
	]
	guitab "Music 1"
	genmusicitems $playasongnames1 musicpack1 14
	
	guitab "Music 2"
	genmusicitems $playasongnames2 musicpack2 14
	
	guitab "Music 3"
	genmusicitems $playasongnames3 musicpack3 14
	
	guitab "Music 4"
	genmusicitems $playasongnames4 musicpack4 14
	
	guitab "Music 5"
	genmusicitems $playasongnames5 musicpack5 14
	
	guitab "Music 6"
	genmusicitems $playasongnames6 musicpack6 14
]

newgui multiplayer [
	guilist [
		guitext "Your name: " (at "rc rc_blue rc_red rc_pink ogre ogre ogre" $playermodel)
		guifield newname 18 [name $newname] [newname = (getname)]
	]
	guibar
	guibutton "Server List" "showgui servers" server
	guibutton "Connect to a random LAN server"	"lanconnect"
	guicheckbox "Scan LAN" searchlan
]

newgui servers [
	guiservers
]

newgui newmap [
	guititle Newmap
	guitext "Select a size below and then click new map."
	guislider newmapsize 10 19
	guibar
	guibutton "New map" "newmap $newmapsize"
	]

newgui newlight [
	guitext (concat "Radius	" $lightrad) light
	guitext (concat "Red	" $lightr) lightr
	guitext (concat "Green	" $lightg) lightg
	guitext (concat "Blue	" $lightb) lightb
	guibar
	guistayopen [
		guibutton "Spawn Light" [newent light $lightrad $lightr $lightg $lightb] light
	]
	guibutton "Set Colour" "showgui newlight2"
	guibutton "Set Radius" "showgui newlight3"
	guitab "Advanced"
	guilist [
		guitext "Amount to spawn: " lights
		guifield lightam 5 
	]
	guitext "Radius" light
	guislider lightrad 0 200
	guitext "Red" lightr
	guislider lightr 0 255
	guitext "Green" lightg
	guislider lightg 0 255
	guitext "Blue" lightb
	guislider lightb 0 255
	guibar
	guibutton "Spawn Light(s)" [loop i $lightam [newent light $lightrad $lightr $lightg $lightb]] light
]

newgui newlight2 [
	guibutton "Sun"		"lightatrset 240 180 100"
	guibutton "Red"		"lightatrset 255 0 0"
	guibutton "Green"	"lightatrset 0 255 0"
	guibutton "Blue"	"lightatrset 0 0 255"
	guibutton "Yellow"	"lightatrset 255 255 0"
	guibutton "Purple"	"lightatrset 255 0 255"
	guibutton "Aqua"	"lightatrset 0 255 255"
	guibutton "White"	"lightatrset 255 255 255"
	guibutton "Orange"	"lightatrset 240 120 0"
]

newgui newlight3 [
	guibutton "Infinity (Sun)"	"lightatrset 0"
	guibutton "Very short"		"lightatrset 8"
	guibutton "Short"		"lightatrset 32"
	guibutton "Moderate"		"lightatrset 64"
	guibutton "Moderately Long"	"lightatrset 96"
	guibutton "Long"		"lightatrset 128"
	guibutton "Very Long"		"lightatrset 256"
	]

newgui savemap [
	guitext "Enter the map's name"
	guifield mapactionname 20
	guibar
	guibutton (format "Save current map as %1" $mapactionname) "remip; savemap $mapactionname"
	guibutton "Back" "cleargui 1"
]

newgui loadmap [
	guitext "Enter the map's name, and press Enter"
	guifield mapactionname 20
	guibar
	guibutton (format "Load %1" $mapactionname) "mode $MODE; map $mapactionname"
	guibutton "Back" "cleargui 1
	guitab "Gamemode"
	@gamemodes
]

newgui skilllvl [
	guitext "Please select a skill level to swap to"
	guitext (at $skilllevelnames (- $skilllevel 1))
	guibar
	guibutton "Basic"		"skilllevel = 1"
	guibutton "Intermediate"	"skilllevel = 2"
	guibutton "Advanced"		"skilllevel = 3"
]

newgui authors [
	guitext "Plantinum Arts Sandbox, Cube 2 for kids."
	guitext "Created by Michael Tomaino of Platinum Arts LLC."
	guitext "With contributions from Hirato."
	guitext "http://Kids.Platinumarts.Net"
	guitab Engine
	guitext "The Cube 2 engine."
	guitext "Created by Wouter van Oortmerssen."
	guitext "And currently maintained by Eihrul, and baby-rabbit"
	guitab "Testers"
	guitext "These people constantly report problems, without them,"
	guitext "PAS wouldn't be as great as it is now. Thanks a bunch!"
	guitext "linuxdonald"
	guitab "Thanks!"
	guitext "Special thanks to all the artists who's textures we use."
	guitext "PAS wouldn't look nearly as fantastic without them"
	guitext "and a big special thanks to you for your download and support"
]

newgui options [
	guitext "Choose a configuration preset"
	guitext "Optionally you can scroll over to the tabs and modify them manually"
	guibar
	guilist [
		guibutton "Ultimate	" "exec data/preset/ultimate.cfg"
		guibar
		guibutton "Very High	" "exec data/preset/very-high.cfg"
		guibar
		guibutton "High" "exec data/preset/high.cfg"
	]
	guilist [
		guibutton "Medium	" "exec data/preset/med.cfg"
		guibar
		guibutton "Low	" "exec data/preset/low.cfg"
		guibar
		guibutton "Very Low" "exec data/preset/very-low.cfg"
	]
	guibar
	guibutton "PG UP and PG DN as universal delta" [bind PAGEUP [universaldelta -1]; bind PAGEDOWN [universaldelta 1]]
	if (= $skilllevel 3) [guibutton "Debuging Settings" "showgui debugsettings"]
	guibutton "Set Language" "showgui language" $language
	guilist [
		guibutton "Modify GUI Colours" "showgui setguicol"
		guibar
		guistayopen [
			guibutton "Reset Colours" guiresetcolours
		]
	]
	guibutton "Console Messages" "showgui console"
	guibutton "GUI/HUD themes" "showgui hud"

	if (= $skilllevel 1) [
		@options1
	]
	if (= $skilllevel 2) [
		@options2
	]
	if (= $skilllevel 3) [
		@options3
	]
	guitab "Resolution"
	guilist [
		guilist [
			guibutton "320x240	"              "screenres 320 240"
			guibutton "640x480"              "screenres 640 480"
			guibutton "800x600"              "screenres 800 600"
			guibutton "1024x768"             "screenres 1024 768"
			guibutton "1152x768"             "screenres 1152 768"
			guibutton "1200x960"             "screenres 1200 960"
		]
		guibar
		guilist [
			guibutton "1280x800"             "screenres 1280 800"
			guibutton "1280x1024"            "screenres 1280 1024"
			guibutton "1440x900"             "screenres 1440 900"
			guibutton "1600x1200"            "screenres 1600 1200"
			guibutton "1680x1050"            "screenres 1680 1050"
			guibutton "1920x1200"            "screenres 1920 1200"
		]
	]
	if (< 1 $skilllevel) [
		guibar
		guitext "Custom X resolution		"
		guilistslider "screenx" "320 360 400 512 576 640 720 800 832 840 896 928 960 1024 1152 1200 1280 1400 1440 1600 1680 1792 1856 1920"
		guitext "custom Y resolution"
		guilistslider "screeny" "172 200 240 300 312 350 384 400 432 450 480 512 525 600 624 672 696 720 768 800 864 900 960 1024 1050 1080 1200 1344 1392 1440"
		guibar
		guibutton "apply custom resolution" "screenres $screenx $screeny"
	]
	guitab "Miscelaneous"
	guilist [
		guilist [
			guicheckbox "2D menus" gui2d
			guitext "Mouse Sensitivity	"
		]
		guilist [
			guicheckbox "Gui Errors					" guierrors
			newsens = $sensitivity
			guifield newsens 5 [sensitivity $newsens]
		]
	]
	guilist [
		guitext "Loading Backgrounds	"
		guibar
		guiradio "Off" loadbacktype 0
		guibar
		guiradio "Screenshots (default)" loadbacktype 1
		guibar
		guiradio "Map shots" loadbacktype 2
	]
]

newgui language [
	guitext (format "Current Language: %1" $language) $language
	guitext "Key: M = menus	L = strings"
	guibar
	@languages
]

newgui editing [
	if (= $skilllevel 1) [
		@editing1
	]
	if (= $skilllevel 2) [
		@editing2
	]
	if (= $skilllevel 3) [
		@editing3
	]
	guitab cfg
	guitext (mapcfgname)
	showfileeditor (mapcfgname) -50 11
]


newgui mapmodels [
    loop i (nummapmodels) [
        guibutton (mapmodelname $i) (concat newent mapmodel $i)
    ]
]

newgui mapmodel [
	guitext $tmpt
	guibar
	guitext "Direction"
	guislider tmp0 0 360 [entupdate]
	guitext "model"
	guislider "tmp1" 0 91 [entupdate]
	guitext "Trigger Type"
	guislider tmp2 0 29 [entupdate]
	guitext "Trigger Tag"
	guislider tmp3 0 100 [entupdate]
	
	guitab "misc"
	@quickeditmenu
	guitab "mapmodel list"
		loop i (nummapmodels) [
		guistayopen [guibutton (mapmodelname $i) (format "tmp1 = %1; entupdate" $i)]
	]
]

newgui particles [
	if (< $tmp0 3) [
		guitext "Type (fireball->smoke->fountain)"
		guislider tmp0 0 2 entupdate
		guitext "Driection"
		guislider tmp1 0 5 entupdate
	]
	if (= $tmp0 3) [
		parttocol $tmp2
		guitext "Size"
		guislider tmp1 -5 50 entupdate
		guitext "Colour (RGB)"
		partcolsliders tmp2
	]
	if (&& (|| (|| (= $tmp0 4) (= $tmp0 7)) (|| (|| (= $tmp0 8) (= $tmp0 9)) (= $tmp0 10))) (< $tmp1 256)) [
		parttocol $tmp3
		
		guilist [
			guilist [
				guiradio "Flare" tmp0 4 [entupdate]
				guiradio "Lightning" tmp0 7 [entupdate]
				guiradio "Water" tmp0 10 [entupdate]
			]
			guilist [
				guiradio "Fire" tmp0 8 [entupdate]
				guiradio "Smoke" tmp0 9 [entupdate]
			]
		]
		guibar
		guitext "Direction"
		guislider tmp1 0 5 entupdate
		guitext "Length"
		guislider tmp2 0 200 entupdate
		guitext "Colour (RGB)"
		partcolsliders tmp3
		guitext "Fade Time"
		guislider tmp4 0 10000 entupdate
	]
	if (&& (|| (|| (= $tmp0 4) (= $tmp0 7)) (|| (|| (= $tmp0 8) (= $tmp0 9)) (= $tmp0 10))) (> $tmp1 255)) [
		parttocol $tmp3
		setmultieffectname
		multieffectreverse = (> (- $tmp1 256) 31)
		if (= $multieffectreverse 0) [multieffectvalue = (- $tmp1 256)] [multieffectvalue = (- $tmp1 288)]
		
		guilist [
			guilist [
				guiradio "Flare" tmp0 4 [entupdate]
				guiradio "Lightning" tmp0 7 [entupdate]
				guiradio "Water" tmp0 10 [entupdate]
			]
			guilist [
				guiradio "Fire" tmp0 8 [entupdate]
				guiradio "Smoke" tmp0 9 [entupdate]
			]
		]
		guibar
		guitext $multieffectname
		guislider multieffectvalue 0 21 [tmp1 = (+ 256 (+ $multieffectvalue (* $multieffectreverse 32))); entupdate]
		guicheckbox "Reverse Direction" multieffectreverse 1 0 [tmp1 = (+ 256 (+ $multieffectvalue (* $multieffectreverse 32))); entupdate]
		guitext "Length"
		guislider tmp2 0 200 entupdate
		guitext "Colour (RGB)"
		partcolsliders tmp3
		guitext "Fade Time"
		guislider tmp4 0 10000 entupdate
	]
	if (|| (= $tmp0 5) (= $tmp0 6)) [
		parttocol $tmp2
		guilist [
			guiradio "Normal style" tmp0 5 [entupdate]
			guibar
			guiradio "Versus style" tmp0 6 [entupdate]
		]
		guitext "Captured Percentage"
		guislider tmp1 0 100 [entupdate]
		guitext "Colour (RGB)"
		partcolsliders tmp2
	]
	if (|| (|| (= $tmp0 32) (= $tmp0 33)) (|| (= $tmp0 34) (= $tmp0 35))) [
		guilist [
			guilist [
				guiradio "Normal" tmp0 32 [entupdate]
				guiradio "Normal W/ Sparkle" tmp0 33 [entupdate]
			]
			guilist [
				guiradio "Fixed" tmp0 34 [entupdate]
				guiradio "Fixed W/ Sparkle" tmp0 35 [entupdate]
			]
		]
		guitext "Colour (RGB)"
		guislider tmp1 0 255 entupdate
		guislider tmp2 0 255 entupdate
		guislider tmp3 0 255 entupdate
		guitext "Size"
		guislider tmp4 0 1000 entupdate
	]
	if (= $tmp0 11) [
		parttocol $tmp2
		guitext "Particle Contents"
		guifield part_text_@tmp1 60
		guitext "Alias Tag"
		guislider tmp1 0 25 entupdate
		guitext "Colour (RGB)"
		partcolsliders tmp2
		guitext "Text Size"
		guislider tmp3 0 1000 entupdate
	]

	guitab type
	guibutton "Standard Particles" "tmp0 = (rnd 3); entupdate"
	guibutton "Explosion" "tmp0 = 3; entupdate"
	guibutton "Tape/Flare" "tmp0 = 4; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Multiple Effect Tape/Flare" "tmp0 = 4; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Capture Bars" "tmp0 = 5; entupdate"
	guibutton "Lightning" "tmp0 = 7;if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Multiple Effect Lightning" "tmp0 = 7; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Fire" "tmp0 = 8; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Multiple Effect Fire" "tmp0 = 8; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Smoke" "tmp0 = 9; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Multiple Effect Smoke" "tmp0 = 9; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Water" "tmp0 = 10; if(> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Multiple Effect Water" "tmp0 = 10; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Lens Flare" "tmp0 = 32; entupdate"
	guibutton "Hovering Text" "tmp0 = 11; entupdate"
	
	guitab ent
	guilistsplit n 2 $enttypelist@(getgame) [
		guibutton $n [ entset @n ]       
	]  
	
	guitab misc
	@quickeditmenu
]

newgui quickedit [
	@quickeditmenu
	guitab "materials"
	@matmenu
]

newgui heightfield [
	@brushmenu
	guitab "misc"
	@quickeditmenu
]

newgui skies [
	guitext "Scroll your mouse over to one of the tabs, and select a skybox."
	guitext "Note the current skybox does NOT save with the map."
	guibar
	guitext (format "Current skybox	: 0%1" $skybox)
	guitext (format "Current cloudbox	: 0%1" $cloudbox)
	guitext (format "Current cloudlayer	: 0%1" $cloudlayer)
	guibar
	guitab Skies
	guilist [
		guilist [
			genskyitems $loopix loopix skybox
			genskyitems $amethyst7 amethyst7 skybox
			genskyitems $skyboxes skyboxes skybox
		]
		guibar
		showskyshot
		guibar
		guilist [
			genskyitems $vegastrike skyboxes/vs skybox
		]
	]
	
	guitab "cloudboxes"
	guilist [
		guilist [
			genskyitems $cloudboxen clouds cloudbox
		]
		guibar
		showskyshot
	]
	
	guitab cloudlayers
	guilist [
		guistayopen [
			guilist [
				loop i $numcloudlayers [
					guibutton (concatword "clouds " (+ $i 1)) (format "cloudlayer clouds/clouds%1" (+ $i 1))
				]
			]
			guibar
			guiimage (format "packages/sbpreviews/%1" (at $guirolloveraction 1)) $skyload 4 1 data/sandboxlogo
		]
	]
	
	guitab settings
	
	guititle "Skyboxes"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawsky
		]
		guibar
		guilist [
			guitext "Spin				"
			newspinsky = (*f $spinsky 10)
			guislider newspinsky -200 200 [spinsky (divf $newspinsky 10)]
		]
	]
	
	guititle "cloudboxes"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawclouds

			guitext "clip"
			newcloudclip = (*f $cloudclip 100)
			guislider newcloudclip 0 100 [cloudclip (divf $newcloudclip 100)]
		]
		guibar
		guilist [
			guitext "Spin				"
			newspinclouds = (*f $spinclouds 10)
			guislider newspinclouds -200 200 [spinclouds (divf $newspinclouds 10)]
		]
	]
	
	guititle "cloudlayers"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawcloudlayer
			
			guitext "Fade"
			newcloudfade = (*f $cloudfade 100)
			guislider newcloudfade 0 100 [cloudfade (divf $newcloudfade 100)] 
			guitext "Scale"
			newcloudscale = (*f $cloudscale 100)
			guislider newcloudscale 10 400 [cloudscale (divf $newcloudscale 100)] 
			guitext "Colour"
			guilist [
				setcollevels "skycol" $cloudcolour
				guifield skycol1 3 [ skycol1 = (min (max 0 $skycol1) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
				guibar
				guifield skycol2 3 [ skycol2 = (min (max 0 $skycol2) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
				guibar
				guifield skycol3 3 [ skycol3 = (min (max 0 $skycol3) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
			]
		]
		guibar
		guilist [
			guitext "Spin				"
			newspincloudlayer = (*f $spincloudlayer 10)
			guislider newspincloudlayer -200 200 [spincloudlayer (divf $newspincloudlayer 10)]
			guitext "Height"
			newcloudheight = (*f $cloudheight 100)
			guislider newcloudheight -100 100 [cloudheight (divf $newcloudheight 100s)] 
			guitext "Scroll-X"
			newcloudscrollx = (*f $cloudscrollx 100)
			guislider newcloudscrollx -100 100 [cloudscrollx (divf $newcloudscrollx 100)] 
			guitext "Scroll-Y"
			newcloudscrolly = (*f $cloudscrolly 100)
			guislider newcloudscrolly -100 100 [cloudscrolly (divf $newcloudscrolly 100)] 
		]
	]
]

newgui maps [
	guilist [
		guilist [
			genmapitems $mainmaps
		]
		showmapshot
	]
	guitab "Custom Maps"
	guibutton "Modify List" "showgui setmaps"
	guibar
	guilist [
		guilist [
			genmapitems $custom1
		]
		guilist [
			genmapitems $custom2
		]
		showmapshot
	]
	guitab "Gamemode"
	@gamemodes
]

newgui setmaps [
	guitext "Enter the name of the map in the fields below"
	guitext "Seperate the names by spaces if you wish to place more than two in the list"
	guibar
	guifield custom1 50
	guibar
	guifield custom2 50
	guibar
	guibutton "Back" "cleargui 1"
]

newgui entfind [
	guitext "Select which items to search for"
	guilist [
		guicheckbox "Type" dosearch0
		loop i 5 [
			guibar
			guicheckbox (concatword "ATR. " (+ $i 1)) (concatword "dosearch" (+ $i 1))
		]
	]
	guibar
	guistayopen [ guibutton "Copy Attributes from currently selected entity" [loop i 5 [(concatword "enta" $i) = (ea $i)]; loop i (listlen $enttypelist@(getgame)) [if (strcmp (et) (at $enttypelist@(getgame) $i)) [entt = $i; i = 19]] ] ]
	guilist [
		loop i 5 [
			guilist [
				guitext (format "ATR. %1" (+ $i 1))
				guifield (concatword "enta" $i) 6 [(concatword "enta" $i) = (min 32767 (max -32767 (getalias (concatword "enta" $i))))]
			]
			if (> 4 $i) [guibar]
		]
	]
	guibar
	guitext "* means wildcard (anything)"
	tmp = (concat (if $dosearch0 [at $enttypelist@(getgame) $entt] [result "*"]) (if $dosearch1 $enta0 [result "*"]) (if $dosearch2 $enta1 [result "*"]) (if $dosearch3 $enta2 [result "*"]) (if $dosearch4 $enta3 [result "*"]) (if $dosearch5 $enta4 [result "*"]))
	guistayopen [ 
		guibutton (format "Search for: %1" $tmp) (format "entfind %1" $tmp)
		guibutton (format "Print /entfind %1 to console" $tmp) (format "saycommand /entfind %1" $tmp)
	]
	
	guitab Type
	guilist [
		loop i (+ (div (listlen $enttypelist@(getgame)) 10) 1) [
			guilist [
				loop j (min (- (listlen $enttypelist@(getgame)) (* 10 $i)) 10) [
					guiradio (at $enttypelist@(getgame) (+ $j (* $i 10))) entt (+ $j (* $i 10))
				]
			]
		]
	]
]

newgui newparticles [
	guibutton "Create" "newent particles $newpartstdtype $newpartdir"
	guibar
	guilist [
		guiradio "Fireball" newpartstdtype 0
		guibar
		guiradio "Smoke" newpartstdtype 1
		guibar
		guiradio "Fountain" newpartstdtype 2
	]
	guibar
	guitext "Direction"
	guislider newpartdir 0 5
	
	guitab Explosion
	guibutton "Create" "newent particles  3 $newpartexpsize (coltopart)"
	guibar
	guitext "Size"
	guislider newpartexpsize -5 50
	guitext "Colour (RGB)"
	partcolsliders
	
	guitab "Effect"
	guibutton "Create" "newent particles $newpartmulttype $newpartdir $newpartmultlen (coltopart) $newpartfade"
	guibar
	guilist [
		guiradio "Flare" newpartmulttype 4
		guibar
		guiradio "Lightning" newpartmulttype 7
		guibar
		guiradio "Fire" newpartmulttype 8
		guibar
		guiradio "Smoke" newpartmulttype 9
		guibar
		guiradio "Water" newpartmulttype 10
	]
	guibar
	guitext "Direction"
	guislider newpartdir 0 5
	guitext "Length"
	guislider newpartmultlen 0 200
	guitext "Colour (RGB)"
	partcolsliders
	guitext "Fade Time"
	guislider newpartfade 0 10000
	
	guitab "Multi Effect"
	newpartmultieffectname
	guibutton "Create" "newent particles $newpartmulttype (+  256 (+ $newpartmulteffect (* 32 $newpartmultrev))) $newpartmultlen (coltopart) $newpartfade"
	guibar
	guilist [
		guiradio "Flare" newpartmulttype 4
		guibar
		guiradio "Lightning" newpartmulttype 7
		guibar
		guiradio "Fire" newpartmulttype 8
		guibar
		guiradio "Smoke" newpartmulttype 9
		guibar
		guiradio "Water" newpartmulttype 10
	]
	guibar
	guicheckbox "Reverse" newpartmultrev
	guitext $multieffectname
	guislider newpartmulteffect 0 21
	guitext "Length"
	guislider newpartmultlen 0 200
	guitext "Colour (RGB)"
	partcolsliders
	guitext "Fade Time"
	guislider newpartfade 0 10000
	
	guitab "Bars
	guibutton "Create" "newent particles $newpartbartype $newpartbarprcnt (coltopart)"
	guibar
	guilist [
		guiradio "Standard" newpartbartype 5
		guibar
		guiradio "Versus" newpartbartype 6
	]
	guibar
	guitext "Percentage"
	guislider newpartbarprcnt 0 100
	guitext "Colour (RGB)"
	partcolsliders
	
	guitab "Lens Flares"
	guibutton "Create" "newent particles $newpartflaretype $newpartflarecol1 $newpartflarecol2 $newpartflarecol3 $newpartsize"
	guibar
	guilist [
		guiradio "Normal" newentflaretype 32
		guibar
		guiradio "Normal W/ sparkle" newentflaretype 33
		guibar
		guiradio "Fixed" newentflaretype 34
		guibar
		guiradio "Fixed W/ Sparkle" newentflaretype 35
	]
	guibar
	guitext "Colour (RGB)"
	guislider newpartflarecol1 0 255
	guislider newpartflarecol2 0 255
	guislider newpartflarecol3 0 255
	guitext "Size"
	guislider newpartsize 0 1000
	
	guitab "Text"
	guibutton "Spawn entity" "newent particles 11 $newparttag (coltopart) $newpartsize"
	guitext "Alias tag"
	guislider newparttag 0 100
	part_text_@newparttag = (getalias part_text_@newparttag)
	guilist [
		guitext "Text:"
		guifield part_text_@newparttag 60
	]
	guitext "Colour (RGB)"
	partcolsliders
	guitext "Size"
	guislider newpartsize 0 1000	
] "Standard"

newgui lightlerp [
	guititle "Miscelaneous Light Settings"
	guitext "Lerp Angle"
	guislider "lerpangle"
	guitext "Lerp Sub Divide"
	guislider lerpsubdiv
	guitext "Lerp Sub Divide Size "
	guislider lerpsubdivsize
	guitext "Edge Tolerence"
	guislider edgetolerence
	guitext "Round Lightmap Texture"
	guislider roundlightmaptex
	guibar
	guibutton "Back" "cleargui 1"
]

newgui intro [
	guitext "This is your first time running PAS"
	guitext "This menu is designed to help you familiarise yourself with the game"
	guitext "Click the box below and enter a name, once done, press Enter"
	guibar
	newname = (getname)
	guifield newname 18 [name $newname] 
	guibar
	guitext "This is a check box, click it to toggle an option"
	guitext "In this example, it'll swicth between 2D and 3D menus, so choose the one you like"
	guitext "Don't worry, you can always change it later"
	guicheckbox "2D, or 3D GUI" gui2d
	guibar
	guibutton "Next" "showgui intro2"
]

newgui intro2 [
	guititle "UI Elements"
	guitext "This menu hopes you to get you more familiar with the GUI of the game"
	guitext "The ones in the menu may have different graphics.
	guibar
	guitext "This is a button, click it to execute it's action."
	guistayopen [
		guibutton "Click Me" [echo "tee hee, you clicked me"]
	]
	guitext "This is a slider, cick or drag to change the values."
	guislider test -20 20
	guitext "These are radio buttons, they're a hybrid between checkboxes and buttons"
	guilist [
		guiradio "Click Me!" test2 1
		guiradio "No, Click Me!" test2 0
	]
	guitext "This is a checkbox, the exact same one as the last screen"
	guicheckbox "2D/3D interface" gui2d
	guibar
	guibutton "Next" "showgui intro3"
] "The GUI"

newgui intro3 [
	guititle "Brief Keys Overview"
	guibar
	guitext "W/A/S/D		Movement"
	guitext "E		Toggle Editmode"
	guitext "Space		Deselect Geometry/Jump"
	guitext "F2		Show Texture Selection Screen/Close It"
	guitext "F3		Show Quick Edit Menu"
	guitext "F4		Show Skybox Menu"
	guitext "ESC		Show main menu/Close Menus"
	guitext "(left) CTRL/H	Heightfieldmode"
	guibar
	guibutton "Next" "showgui intro4"
] Keys

newgui intro4 [
	guititle "Universal Delta Mutators"
	guitext "The scroll wheel is universal delta, pressing certain keys change the function"
	guitext "if you only have 1 mouse button (ie; trackpad), please click the button right below"
	guibutton "set PG UP and PG DOWN to universal delta" [bind PAGEUP [universaldelta -1]; bind PAGEDOWN [universaldelta 1]]
	guibar
	guitext "None		Add/Remove Cubes"
	guitext "G		Adjusts Grid Size"
	guitext "F		Push Selected Cube faces"
	guitext "Q		Push the edge your cursor hovers over"
	guitext "R		Rotate (by 90 degrees)"
	guitext "Y		Modify Selection's Set Texture"
	guitext "B		Change Selected Heightfield Brush"
	guitext ",		Cycle Through Selected Entities"
	guibar
	guibutton "Next" "showgui intro5"
] "Universal Delta"
	
newgui intro5 [
	guitext "If you don't understand what any of the prior stuff meant."
	guitext "Just go into editmode and experiment"
	guitext "The best way to learn is often to play around with the tools."
	guitext "If you wish to review any of the information, just press ESC to go back."
	guibar
	guibutton "Finish"	"cleargui; showgui main"
]

newgui whatispvs [
	guitext "PVS is an occlusion culling method"
	guitext "very similar to other games, visibility is pre calculated"
	guitext "so for people using cheap or very old cards"
	guitext "And don't have hardware occlusion query, will find"
	guitext "Big maps to be very slow. So pregenerating the occlusion"
	guitext "allows them to view much bigger maps"
	guibar
	guibutton "Back" "cleargui 1"
]

newgui setguicol [

	guitext "Title Colours"
	guitext "This is the colour of menu titles... mostly"
	setcollevels guiticol $guititlecolour
	guislider guiticol1 0 255 settitlecol
	guislider guiticol2 0 255 settitlecol
	guislider guiticol3 0 255 settitlecol

	guitext "Text Colours"
	guitext "This is the colour of most displayed text"
	setcollevels guitxtcol $guitextcolour
	guislider guitxtcol1 0 255 settextcol
	guislider guitxtcol2 0 255 settextcol
	guislider guitxtcol3 0 255 settextcol

	guitext "Roll Over Colours"
	guitext "This is what GUI elements change their colour to when highlighted"
	setcollevels guirocol $guirollovercolour
	guislider guirocol1 0 255 setrollovercol
	guislider guirocol2 0 255 setrollovercol
	guislider guirocol3 0 255 setrollovercol

	guitab "Element Colours"

	guitext "Button Colours"
	guistayopen [ guibutton "This is the colour of the buttons in the menu, duh :P" "echo HI!" ]
	setcollevels guibutcol $guibuttoncolour
	guislider guibutcol1 0 255 setbuttoncol
	guislider guibutcol2 0 255 setbuttoncol
	guislider guibutcol3 0 255 setbuttoncol

	guitext "Checkbox Colours"
	guicheckbox "This affects the colour of displayed checkboxes"
	setcollevels guicbcol $guicheckboxcolour
	guislider guicbcol1 0 255 setcheckboxcol
	guislider guicbcol2 0 255 setcheckboxcol
	guislider guicbcol3 0 255 setcheckboxcol

	guitext "Slider Colours"
	guitext "This is the colour of the sliders, see below"
	setcollevels guislicol $guislidercolour
	guislider guislicol1 0 255 setslidercol
	guislider guislicol2 0 255 setslidercol
	guislider guislicol3 0 255 setslidercol
] "GUI Colours"

newgui "hud" [
	guistayopen [
		guilist [
			guilist [
				guiimage "data/hud/2.1.png" "exec data/hud/2.1.cfg" 6 1
				guitext "2.1 Default theme"
				guitext [By Markus "makkE" Bekel]
			]
			guibar
			guilist [
				guiimage "data/hud/2.2.png" "exec data/hud/2.2.cfg" 6 1
				guitext "2.2 default Theme"
				guitext "By Hirato Kirata"
			]
			guibar
			guilist [
				guiimage "data/hud/2.3.png" "exec data/hud/2.3.cfg" 6 1 data/sandboxlogo
				guitext "WiP 2.3 default Theme"
				guitext "By Hirato Kirata"
			]
		]
	]
]

newgui pastebuffer [
    guinoautotab [
        guieditor "#pastebuffer" -80 20
        guistayopen [
            guilist [
                guibutton "exec" [textfocus "#pastebuffer"; textexec]
                guibar
                guibutton "clear" [textfocus "#pastebuffer"; textclear]
            ]
        ]
    ]
]

showfileeditor = [
    guinoautotab [
        guieditor $arg1 $arg2 $arg3
        guistayopen [
            guilist [
                guibutton "load" [textfocus @arg1; textload @arg1]
                guibar
                guibutton "save" [textfocus @arg1; textsave @arg1]
                guibar
                guibutton "exec" [textfocus @arg1; textexec]
                guibar
                guibutton "copy" [textfocus @arg1; textcopy]
                guibar
                guibutton "paste" [textfocus @arg1; textpaste]
                guibar
                guibutton "select" [textfocus @arg1; textselectall]
                guibar
                guibutton "clear" [textfocus @arg1; textclear]
            ]
        ]
    ]
]

newgui scratchpad [
    guinoautotab [
        guieditor "#scratchpad" -80 20
        guistayopen [
            guilist [
                guibutton "exec" [textfocus "#scratchpad"; textexec]
                guibar
                guibutton "copy" [textfocus "#scratchpad"; textcopy]
                guibar
                guibutton "paste" [textfocus "#scratchpad"; textpaste]
                guibar
                guibutton "select" [textfocus "#scratchpad"; textselectall]
                guibar
                guibutton "clear" [textfocus "#scratchpad"; textclear]
            ]
        ]
    ]
]
