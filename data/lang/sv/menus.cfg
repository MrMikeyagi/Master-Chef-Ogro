fxtab = [
	guistayopen [
		guibutton "(effect OFF)"          "clearpostfx"
		guibutton "rotoscope" "rotoscope 1"
		guibutton "rotoscope + blur3" "rotoscope 1 1"
		guibutton "rotoscope + blur5" "rotoscope 1 2"
		guibutton "sobel"  "setpostfx sobel"
		guibutton "invert" "setpostfx invert"
		guibutton "gbr"    "setpostfx gbr"
		guibutton "bw"     "setpostfx bw"
		guibutton "blur3"  "setpostfx hblur3; addpostfx vblur3"
		guibutton "blur5"  "setpostfx hblur5; addpostfx vblur5"
		guibutton (format "bloom (%1%2)" $bloomstrength "%")    "bloom (divf $bloomstrength 100)"
		guislider bloomstrength -100 100
	]
]

brushmenu = [
	guititle "pensel"
  guilist [ // diamonds
  guiimage "data/brush_1c.png" brush_0
  guiimage "data/brush_21c.png" brush_1
  guiimage "data/brush_421c.png" brush_2
  ]
  guilist [ // squares
  guiimage "data/brush_3s.png" brush_3
  guiimage "data/brush_5s.png" brush_4
  guiimage "data/brush_7s.png" brush_5
  ]brushmenu = [
	guititle "pensel"
  guilist [ // diamonds
  guiimage "data/brush_1c.png" brush_0
  guiimage "data/brush_21c.png" brush_1
  guiimage "data/brush_421c.png" brush_2
  ]
  guilist [ // squares
  guiimage "data/brush_3s.png" brush_3
  guiimage "data/brush_5s.png" brush_4
  guiimage "data/brush_7s.png" brush_5
  ]
  guititle "rund"
  guilist [ // smooth
  guiimage "data/brush_3s.png" brush_6
  guiimage "data/brush_5s.png" brush_7
  guiimage "data/brush_7s.png" brush_8
  ]
]
]

quickeditmenu = [
	guibutton "Spara bana" "showgui savemap"
	guibutton "Ladda bana" "showgui loadmap"
	guibar
	guibutton "Ommippa" "remip"
	guibutton "Snabb Ljussattning" "calclight -1"
	guibar
	guibutton "Ny Entitiet" "newent light 64 240 200 150"
]

matmenu = [
	guibutton "luft" "editmat air" "" 0xFFFFFF
	guibutton "clip" "editmat clip" "" 0xFF0000
	guibutton "glas" "editmat glass" "" 0x00FFFF
	guibutton "lava" "editmat lava" "" 0xFFA700
	guibutton "noclip" "editmat noclip" "" 0x00FF00
	guibutton "vatten" "editmat water" "" 0x0000FF
	guibutton "respawn" "editmat respawn" "" 0x2E2E2E
	guibar
	guicheckbox "Visa Materialvolymer(M)" showmat
]

texqual = [
	guitext "Texturkvalitet"
	guilist [
		guiradio "Full"		texreduce 0
		guibar
		guiradio "Medel"		texreduce 1
		guibar
		guiradio "Medioker"	texreduce 2
		guibar
		guiradio "Dalig"		texreduce 3
		guibar
		guiradio "Valdigt Dalig"texreduce 4
		guibar
		guiradio "CEL stil"	texreduce 12
	]
]

newgui "console" [
	guitext "konsollens storlek (rader)"
	guislider consize 
	guitext "konsollens meddelandefilter:"
	guilist [
		guilist [
			guibitfield "viktig information" confilter 0x01  
			guibitfield "varningar" confilter 0x02
			guibitfield "fel" confilter 0x04
			guibitfield "avsokningsmeddelanden" confilter 0x08
			guibitfield "initmeddelanden" confilter 0x10
			guibitfield "skriptmeddelanden" confilter 0x20
		]
		guibar
		guilist [
			guibitfield "chat" confilter 0x100
			guibitfield "lag chat" confilter 0x200
			guibitfield "viktiga spelhandelser" confilter 0x400
			guibitfield "foll av varlden" confilter 0x800
			guibitfield "andra foll av varlden" confilter 0x1000
		]
	]
	guitext "fullkonsoll storlek (procent av skarmen)"
	guislider fullconsize
	guitext "fullkonsoll meddelandefilter:"
	guilist [
		guilist [
			guibitfield "viktig information" fullconfilter 0x01
			guibitfield "varningar" fullconfilter 0x02
			guibitfield "fel" fullconfilter 0x04
			guibitfield "avsokningsmeddelanden" fullconfilter 0x08
			guibitfield "init meddelanden" fullconfilter 0x10
			guibitfield "skript meddelanden" fullconfilter 0x20
		]
		guibar
		guilist [
			guibitfield "chat" fullconfilter 0x100
			guibitfield "lag chat" fullconfilter 0x200
			guibitfield "viktiga spelhandelser" fullconfilter 0x400
			guibitfield "Foll av varlden" fullconfilter 0x800
			guibitfield "Andra foll av varlden" fullconfilter 0x1000
		]
	]
]

options1 = [
	guitab "Ljud"
	guilist [
		guilist [
			guicheckbox "Mumble Positionellt Ljud	" mumble
			guitext "Ljudvolym"
			guitext "Musikvolym"
			guitext "Ljudfrekvens"
		]
		guilist [
			guitext "				"
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
		]
	]
	
	guitab "Grafik"
	guicheckbox "Fullskarm" fullscreen
	guicheckbox "Shaders" shaders
	guibar
	guicheckbox "Vattenshaders" watershaders 1 0 [waterreflect $watershaders; waterrefract $watershaders; waterfade $watershaders; vertwater $watershaders; caustics $watershaders; refractfog $watershaders; waterfallrefract $watershaders]
	guicheckbox "Statiska Reflektioner" pregenreflect 1 0 [glassenv $pregenreflect; envmapmodels $pregenreflect; waterenvmap $pregenreflect; waterfallenv $pregenreflect]
	guicheckbox "Modelleffekter" modeleffect 1 0 [lightmodels $modeleffect; glowmodels $modeleffect]
	guicheckbox "Mjuka Skuggor" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
	guicheckbox "Gras" grass
	guicheckbox "Anvand gammal synlighetsberakning" pvs
	@texqual
	
	guitab "Effekter"
	@fxtab
]

options2 = [
	guitab "Ljud"
	guilist [
		guilist [
			guicheckbox "Stereo			" stereo
			guitext "Ljudvolym"
			guitext "Musikvolym"
			guitext "Ljudfrekvens"
			guitext "Ljudkanaler"
			guitext "Ljudbufferns Langd"
		]
		guilist [
			guicheckbox "Mumble Positionellt Ljud		" mumble
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
			guislider soundchans
			guilistslider soundbufferlen "128 256 512 768 1024 1280 1536 1792 2048 2304 2560 2816 3072 3328 3584 3840 4096"
		]
	]
	
	guitab "Grafik"
	guilist [
		guilist [
			guicheckbox "Shaders			" shaders
			guislider shaderdetail
			guicheckbox "Refraktioner Under Vatten" caustics
			guicheckbox "Glas Reflektioner" glassenv
			guicheckbox "Gras" grass
			guicheckbox "PVS" pvs
			guicheckbox "Skuggkartor" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
			guitext "Modeller"
			guilist [
				guicheckbox "Ljussattning	" lightmodels
				guibar
				guicheckbox "Reflektioner	" envmapmodels
				guibar
				guicheckbox "Glod	" glowmodels
				guibar
				guicheckbox "Bumpmaps" bumpmodels
			]
			guitext "Vatten och Vattenfall"
			guilist [
				guicheckbox "Djupdimma" refractfog
				guibar
				guicheckbox "Omgivningskarta	" "waterenvmap"
				guibar
				guicheckbox "Reflektion		" waterreflect
				guibar
				guicheckbox "Fall Refraktion" waterfallrefract
			]
			guilist [
				guicheckbox "Refraktion	" waterrefract
				guibar
				guicheckbox "Variabel Alfa	" waterfade
				guibar
				guicheckbox "Vertexanimation	" vertwater
				guibar
				guicheckbox "Fall Omgivningskarta" waterfallenv
			]
		]
	]
	@texqual
	
	guitab "Avancerad Rendering"
	guilist [
		guilist [
			guicheckbox "v-synk			"		vsync 1 0
			guitext "Maximal FPS"
			guitext "Gamma"
			guitext "Fullskarmanti-aliasering"
			guitext "Anisotrofisk Filtrering"
			guitext "Shaderprecision"
		]
		guilist [
			guicheckbox "Fullskarm					"	fullscreen
			guislider maxfps
			guislider gamma
			guilistslider fsaa "-1 0 2 4 8 16"
			guilistslider aniso "0 2 4 8 16"
			guislider "Shaderprecision"
		]
	]
	
	guitab "Effekter"
	@fxtab
]

options3 = [
	guitab "Ljud"
	guilist [
		guilist [
			guicheckbox "Stereo			" stereo
			guitext "Ljudvolym"
			guitext "Musikvolym"
			guitext "Ljudfrekvens"
			guitext "Ljudkanaler"
			guitext "Ljudbuffer Langd"
		]
		guilist [
			guicheckbox "Mumble Positionellt Ljud			" mumble
			guislider soundvol
			guislider musicvol
			guilistslider soundfreq "8000 16000 22050 32000 44100"
			guislider soundchans
			guilistslider soundbufferlen "128 256 512 768 1024 1280 1536 1792 2048 2304 2560 2816 3072 3328 3584 3840 4096"
		]
	]

	guitab "Grafik"
	guilist [
		guilist [
			guicheckbox "Glasreflektioner" glassenv
			guicheckbox "Variabel Alfa For Vatten" waterfade
			guicheckbox "Vertexanimation Pa Vattnet" vertwater
			guicheckbox "Vattenfall Refraktion" waterfallrefract
			guicheckbox "Vattendjup Dimma" refractfog
			guicheckbox "Vatten Omgivningskarta	" waterenvmap
			guicheckbox "vattenfall Omgivningskarta" waterfallenv
			guicheckbox "Vattenreflektion" waterreflect
			guicheckbox "Vattenrefraktion" waterrefract
		]
		guilist [
			guicheckbox "Modellljus" lightmodels
			guicheckbox "Modellreflektioner" envmapmodels
			guicheckbox "Modellglod" glowmodels
			guicheckbox "Modellbumpmaps" bumpmodels
			guicheckbox "Shaders" shaders
			guicheckbox "Ljusspel Under Vatten" caustics
			guicheckbox "PVS" pvs
			guicheckbox "Gras" grass
			guicheckbox "Skuggkartor" shadowmap 1 0 [if (= $shadowmap 0) [blobs 1]]
		]
		guibar
		guilist [
			guitext "Shaderdetalj"
			guislider shaderdetail
			guitext "Omgivningkartornas kvalitet	"
			guislider envmapsize
			guitext "Reflektionkvalitet"
			guislider reflectsize
			guitext "Skuggkartornas Kvalitet"
			guislider shadowmapsize
			guitext "Vattenutjamning"
			guislider watersubdiv
		]
	]
	guibar
	@texqual
	
	guitab "Avancerad Rendering"
	guilist [
		guilist [
			guicheckbox "V-synk			"		vsync 1 0
			guicheckbox "Trilinjar Filtrering	" trilinear
			guitext "Maximal FPS"
			guitext "Gamma"
			guitext "Fullskarmanti-Aliasering"
			guitext "Fargdjup"
			guitext "Z-Buffer Djup"
			guitext "Stencil Bits"
			guitext "Anisotrofisk Filtrering"
			guitext "Shaderprecision"
		]
		guilist [
			guicheckbox "Fullskarm					"	fullscreen
			guicheckbox "Bilinjar Filtrering" bilinear
			guislider maxfps
			guislider gamma
			guilistslider fsaa "-1 0 2 4 8 16"
			guilistslider colorbits "0 8 16 24 32"
			guilistslider depthbits "0 8 16 24 32"
			guislider stencilbits
			guilistslider aniso "0 2 4 8 16"
			guislider shaderprecision
		]
	]
	guitab "Effekter"
	@fxtab
]

qualnames = [
"AA : 1	Skuggor : Nej	Modell Skuggor : Nej"
"AA : 2	Skuggor : Ja	Modell Skuggor : Nej"
"AA : 4	Skuggor : Ja	Modell Skuggor : Nej"
"AA : 8	Skuggor : Ja	Modell Skuggor : Nej"
"AA : 8	Skuggor : Ja	Modell Skuggor : Grundlaggande"
"AA : 8	Skuggor : Ja	Modell Skuggor : Alfa Blandad"
]

lightmenu = [
	guitext (at $qualnames (+ 2 $calcqual))
	guislider calcqual -2 3
	guilist [
		guibutton "Berakna		" "calclight $calcqual"
		guibutton "Laga Ljussattning" "patchlight $calcqual"
	]
]

entmen = [
	guitab "Entiteter"
	guilist [
		guitext "Show ent. radius"
		guiradio "off" showentradius 0
		guiradio "when selected" showentradius 1
		guiradio "in editmode" showentradius 2
		guiradio "always" showentradius 3
	]
		guilist [
		guitext "Show ent. direction"
		guiradio "off" showentdir 0
		guiradio "when selected" showentdir 1
		guiradio "in editmode" showentdir 2
		guiradio "always" showentdir 3
	]
	guibar
	guilistsplit n 2 $enttypelist@(getgame) [
		guibutton (concatword "New " $n " Entity  ") [ newent @n ]
	]
]
	
editing1 = [
	guibutton "Banmodeller" "showgui mapmodels"
	guibutton "Himlar" "showgui skies"
	guibar
	guibutton "Vaxla Hojdfaltalage (H)" "hmapedit (! $hmapedit)"
	guibutton "Kopiera Geometri (C)" "copy"
	guibutton "Klistra In Geometri (V)" "paste"
	guibutton "Markera Entiteter i Markering (N)" "entselect insel"
	guibar
	guitext "Hastighet"
	guislider floatspeed

	@entmen

	guitab "Ljus"
	@lightmenu
	
	guitab PVS
	guibutton "Hjalp"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generera PVS" "genpvs $pvssize"
		guibutton "Testa PVS"	"testpvs $pvssize"
		guibutton "Rensa PVS"	"clearpvs"
		guibar
		guitext "PVS Visa Rutnatets Storlek"
		guislider pvssize 0 8196
	]
]

editing2 = [
	guibutton "Banmodeller" "showgui mapmodels"
	guibutton "Himlar" "showgui skies"
	guibutton "Hitta Entitet" "showgui entfind"
	guibar
	guibutton "Vaxla Hojdfaltslage (H)" "hmapedit (! hmapedit)"
	guilist [
		guibutton "Kopiera Geometri (C)		" "copy"
		guibutton "Kopiera Entitet" "entcopy"
	]
	guilist [
		guibutton "Klistra In Geometri (V)		" "paste"
		guibutton "Klistra In Entiteter" "entpaste"
	]
	guibutton "Markera Entiteter i Markering (N)" "entselect insel"
	guibar
	guitext "Hastighet"
	guislider floatspeed

	@entmen

	guitab "Ljus"
	@lightmenu
	guilist [
		guilist [
			guicheckbox "Laga Normals	" patchnormals
			guitext "Miljo"
			guitext "Precision"
			guitext "Fel"
		]
		guilist [
			guicheckbox "Helt Ljust (L)			" fullbright
			guislider ambient
			guislider lightprecision
			guislider lighterror
		]
	]
	
	guitab PVS
	guibutton "Hjalp"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generera PVS" "genpvs $pvssize"
		guibutton "Testa PVS" "testpvs $pvssize"
		guibutton "Rensa PVS" "clearpvs"
		guibutton "PVS Statistik" "pvsstats"
		guibar
		guitext "PVS Visa Rutnatets Storlek"
		guislider pvssize 0 8196
	]
]

editing3 = [
	guibutton "Banmodeller" "showgui mapmodels"
	guibutton "Himlar" "showgui skies"
	guibutton "Hitta Entitet" "showgui entfind"
	guibar
	guibutton "Vaxla Hojdfaltslage" "hmapedit (! hmapedit)"
	guilist [
		guibutton "Kopiera Geometri (C)		" "copy"
		guibutton "Kopiera Entiteter" "entcopy"
	]
	guilist [
		guibutton "Klistra In Geometri (V)		" "paste"
		guibutton "Klistra In Entiteter" "entpaste"
	]
	guibutton "Markera Entiteter i Markering (N)" "entselect insel"
	guibar
	guitext "Flyghastighet"
	guislider floatspeed

	@entmen

	guitab "Ljus"
	guibutton "Modifiera Ljus-Installningar" "showgui lightlerp"
	@lightmenu
	guilist [
		guilist [
			guicheckbox "Laga Normals	" patchnormals
			guitext "Miljo"
			guitext "Precision"
			guitext "Fel"
		]
		guilist [
		guicheckbox "Helt Ljust (L)			" fullbright
		guislider ambient
		guislider lightprecision
		guislider lighterror
		]
	]
	guistayopen [
		guibutton "Tillampa Himmelljus(RGB)" "skylight $skycol1 $skycol2 $skycol3"
	]
	guilist [
		guifield skycol1 5
		guibar
		guifield skycol2 5
		guibar
		guifield skycol3 5
	]
	
	guitab PVS
	guibutton "Hjalp"	"showgui whatispvs"
	guibar
	guistayopen [
		guibutton "Generera PVS" "genpvs $pvssize"
		guibutton "Testa PVS" "testpvs $pvssize"
		guibutton "Rensa PVS" "clearpvs"
		guibutton "PVS Statistik" "pvsstats"
	]
	guibar
	guitext "PVS Visa rutnatets storlek"
	guislider pvssize 0 8196
	guitext "Tradar att anvanda"
	guislider "pvsthreads"
	guitext "PVS leaf stolek"
	guislider "pvsleafsize"
]
setmultieffectname = [
	if (< $multieffectvalue 3) [
		multieffectname = "Cirkel"
	] [
		if (< $multieffectvalue 6) [
			multieffectname = "Cylinderskal"
		] [
			if (< $multieffectvalue 12) [
				multieffectname = "Konskal"
			] [
				if (< $multieffectvalue 15) [
					multieffectname = "Plan Volym"
				] [
					if (< $multieffectvalue 21) [
						multieffectname = "Linjevolym (Vagg)"
					] [
						multieffectname = "Sfar"
					]
				]
			]
		]
	]
]

newpartmultieffectname = [
	if (< $newpartmulteffect 3) [
		multieffectname = "Cirkel"
	] [
		if (< $newpartmulteffect 6) [
			multieffectname = "Cylinderskal"
		] [
			if (< $newpartmulteffect 12) [
				multieffectname = "Konskal"
			] [
				if (< $newpartmulteffect 15) [
					multieffectname = "Plan Volym"
				] [
					if (< $newpartmulteffect 21) [
						multieffectname = "Linjeolym (Vagg)"
					] [
						multieffectname = "Sfar"
					]
				]
			]
		]
	]
]

skilllevelnames = "Grundlaggande Medel Avancerat"

gamemodes = [
	guilist [
		guilist [
			guiradio "En Spelare" MODE -1
			guiradio "Banana Relay" MODE 2
		]
		guilist [
			guiradio "Spring Runt" MODE 0
		]
		guilist [
			guiradio "Sammarbetslage" MODE 1
		]
	]
]

genmusicitems = [
	if (= (listlen $arg1) 0) [
		guitext "Installera musikpaketet innan du anvander den har menyn"
	] @genmusicitems2
]

showfileeditor = [
    guinoautotab [
        guieditor $arg1 $arg2 $arg3
        guistayopen [
            guilist [
                guibutton "ladda" [textfocus @arg1; textmode 3; textload @arg1]
                guibar
                guibutton "spara" [textfocus @arg1; textsave @arg1]
                guibar
                guibutton "kopiera" [textfocus @arg1; textcopy]
                guibar
                guibutton "klistra in" [textfocus @arg1; textmode 3; textpaste]
                guibar
                guibutton "valj allt" [textfocus @arg1; textselectall]
                guibar
                guibutton "rensa" [textfocus @arg1; textclear]
            ]
        ]
    ]
]

loop i $enttypelength [
	newentgui (at $enttypelist@(getgame) $i) "" ""
]

newentgui light "radie rod gron bla" "0 400 0 255 0 255 0 255"
newentgui spotlight "radie" "0 200"
newentgui playerstart "riktning" "0 360"
newentgui teleport "marke modell" "0 20 -1 98"
newentgui teledest "riktning marke" "0 360 0 20"
newentgui envmap "radie" "0 400"
newentgui jumppad "Z Y X" "0 200 0 200 0 200"
newentgui carrot "marke typ" "0 50 0 29"
newentgui sound "typ radie storlek" "0 20 0 500 0 500"
newentgui elevator "riktning banmodell marke fart" "0 360 0 (nummapmodels) 0 30 0 100"
newentgui barrel "riktning banmodell vikt" "0 360 0 (nummapmodels) -100 100"
newentgui box "riktning banmodell vikt" "0 360 0 (nummapmodels) -100 100"
newentgui platform "riktning banmodell marke fart" "0 360 0 (nummapmodels) 0 30 0 100"

main = [
	guilist [
		if (= $editing 1) [
			guilist [
				guibutton "Ny Bana"		"showgui newmap"
				guibutton "Spara Bana"		"showgui savemap"
				guibutton "Ny partikel"	"showgui newparticles"
				guibutton "Nytt ljus"		"showgui newlight"
				guibutton "Ny Banmodell"	"showgui mapmodels"
				guibutton "Hitta Entiteter (F5)"	"showgui entfind"
				guibutton "Redigerings GUI"		"showgui editing"
				guibutton "Redigera Material"	"showgui materials"
				guibutton "Snabbredigeringsmeny (F3)"	"showquickgui"
				guibutton "Texturmeny (F2)"	"showtexgui"
			]
			guibar
		]
		guilist [
			guibutton "Vaxla Redigeringslage (e)"	"edittoggle"
			guibutton "Ladda Bana"		"showgui maps; MODE = (getmode); mode (getmode)"
			guibutton "Ladda Hemmabyggd Bana"	"showgui loadmap"
			guibutton "Flerspelarlage"		"showgui multiplayer"
			guibar
			guibutton "Alternativ"		"showgui options"
			guibutton "Jukebox"		"showgui jukebox"
			guibutton "andra skicklighetsniva" 	"showgui skilllvl"
			guibutton "Om"		"showgui authors"
			guibutton "Avsluta Spelet"	quit	exit
		]
	]
]

newgui main [
	@main
]

newgui materials [
	@matmenu
]


newgui setglare [
	guitext "Intensitet			"
	guislider glarescale 0 20
	guitext "Storlek"
	guislider glaresize
	guitext "Suddighetens Intensitet	"
	guislider blurglare
	guitext "Suddighetens Radie"
	guislider blurglaresigma
	guitext "Partikelsken"
	guislider particleglare
	guicheckbox "Paverka Himmeln?" skyboxglare
	guibar
	guibutton "Bakat" "cleargui 1"
]

newgui debugsettings [
	guititle "Vaxla saker for felsokning"
	guicheckbox "Sken"		debugglare
	guicheckbox "Shaders"		dbgshader
	guicheckbox "Skuggkartor"	debugsm
	guicheckbox "Djup effekter"	debugdepthfx
	guicheckbox "Partiklar"		debugparticles
	guibar
	guibutton "Bakat"	"cleargui 1"
]

newgui editopts [
	guititle "entities"
	guitext "Show radius"
	guilist [
		guiradio "off" showentradius 0
		guibar
		guiradio "when selected" showentradius 1
		guibar
		guiradio "in editmode" showentradius 2
		guibar
		guiradio "always" showentradius 3
	]
	guitext "Show ent. direction"
	guilist [
		guiradio "off" showentdir 0
		guibar
		guiradio "when selected" showentdir 1
		guibar
		guiradio "in editmode" showentdir 2
		guibar
		guiradio "always" showentdir 3
	]
	guitext "Show ent. Positions"
	guilist [
		guiradio "in editmode" showentities 1
		guibar
		guiradio "always" showentities 2
	]
	guibar
	guilist [
		guilist [
			guicheckbox "always show dynlights" showdynlights
			guicheckbox "preview lighting" "showlighting"
		]
		guibar
		guilist [
			guicheckbox "display particles" editingparticles
		]
	]
	guibar
	guitext "Select marker type (default 2)"
	guislider entmarkertype
	guitext "marker fireball size (default 8)"
	guislider entmarkerexpsize
	
	guitab "Appearance"
	guilist [
		guilist [
			guicheckbox "wireframe mode" wireframe
			guicheckbox "Show bounding boxes" showboundingbox
		]
		guibar
		guilist [
			guicheckbox "do depth testing for outline" dtoutline
			guicheckbox "show material volumes" showmat
		]
	]
	guititle "outlines"
	guilist [
		guistayopen [
			guitext "outlinecolour: "
			guibutton "back" "changeoutline -1"
			guitext (at $VARoutlinecolours $VARoutlinestatus)
			guibutton "next" "changeoutline 1"
		]
	]
	guilist [
		guitext "custom colour: "
		guifield outlinecolour  10 [outline $outlinecolour]
	]
	guitab "Editing"
	guicheckbox "heightmapmode (H)" hmapedit
	guitext "^^^ We'd really suggest you use the shortcut"
	guicheckbox "texture all faces (0)" allfaces
	guitext "gridsize"
	guislider gridsize
] "Options"

newgui jukebox [
	guitext "Valj vilka spellistor som skall anvandas, detta har ingen effekt"
	guitext "påa sangarna under uppstart"
	guitext "HA INTE under nagra omstandigheter alla avmarkerade"
	guibar
	guicheckbox "Standard lista" musicdefault
	guicheckbox "Musik Paket 1" musiclist1
	guicheckbox "Musik Paket 2" musiclist2
	guicheckbox "Musik Paket 3" musiclist3
	guicheckbox "Musik Paket 4" musiclist4
	guicheckbox "Musik Paket 5" musiclist5
	guicheckbox "Musik Paket 6" musiclist6
	guibar
	guitext "Musikvolym"
	guislider musicvol

	guitab "Standard"
	guistayopen [
		loop i (listlen $songs) [
			guibutton (at $songs $i) "music $guirollovername nextsong"
		]
	]
	guitab "Musik 1"
	genmusicitems $playasongnames1 musicpack1 14
	
	guitab "Musik 2"
	genmusicitems $playasongnames2 musicpack2 14
	
	guitab "Musik 3"
	genmusicitems $playasongnames3 musicpack3 14
	
	guitab "Musik 4"
	genmusicitems $playasongnames4 musicpack4 14
	
	guitab "Musik 5"
	genmusicitems $playasongnames5 musicpack5 14
	
	guitab "Musik 6"
	genmusicitems $playasongnames6 musicpack6 14
]

newgui multiplayer [
	guilist [
		guitext "Ditt namn: " (at "rc rc_blue rc_red rc_pink ogre ogre ogre" $playermodel)
		guifield newname 18 [name $newname] [newname = (getname)]
	]
	guibar
	guibutton "Server Lista" "showgui servers" server
	guibutton "Anslut till en slumpmassig LAN server"	"lanconnect"
	guicheckbox "Sok LAN" searchlan
]

newgui servers [
	guiservers
]

newgui newmap [
	guititle Newmap
	guitext "Valj en storlek nedan och tryck sedan pa ny bana."
	guislider newmapsize 10 19
	guibar
	guibutton "Ny bana" "newmap $newmapsize"
	]

newgui newlight [
	guitext (concat "Radie	" $lightrad) light
	guitext (concat "Rod	" $lightr) lightr
	guitext (concat "Gron	" $lightg) lightg
	guitext (concat "Bla	" $lightb) lightb
	guibar
	guistayopen [
		guibutton "Skapa Ljus" [newent light $lightrad $lightr $lightg $lightb] light
	]
	guibutton "Ange Farg" "showgui newlight2"
	guibutton "Ange Radie" "showgui newlight3"
	guitab "Avancerat"
	guilist [
		guitext "Mangd att skapa: " lights
		guifield lightam 5 
	]
	guitext "Radie" light
	guislider lightrad 0 200
	guitext "Rod" lightr
	guislider lightr 0 255
	guitext "Gron" lightg
	guislider lightg 0 255
	guitext "Bla" lightb
	guislider lightb 0 255
	guibar
	guibutton "Skapa Ljus (s)" [loop i $lightam [newent light $lightrad $lightr $lightg $lightb]] light
]

newgui newlight2 [
	guibutton "Sol"		"lightatrset 240 180 100"
	guibutton "Rod"		"lightatrset 255 0 0"
	guibutton "Gron"	"lightatrset 0 255 0"
	guibutton "Bla"	"lightatrset 0 0 255"
	guibutton "Gul"	"lightatrset 255 255 0"
	guibutton "Lila"	"lightatrset 255 0 255"
	guibutton "Aqua"	"lightatrset 0 255 255"
	guibutton "Vit"	"lightatrset 255 255 255"
	guibutton "Orange"	"lightatrset 240 120 0"
]

newgui newlight3 [
	guibutton "Oandlighet (Sol)"	"lightatrset 0"
	guibutton "Valdigt Kort"		"lightatrset 8"
	guibutton "Kort"		"lightatrset 32"
	guibutton "Mattligt"		"lightatrset 64"
	guibutton "Mattligt Langt"	"lightatrset 96"
	guibutton "Langt"		"lightatrset 128"
	guibutton "Valdigt Langt"		"lightatrset 256"
	]

newgui savemap [
	guitext "Skriv in banans namn och tryck Enter"
	guifield mapactionname 20 [remip; savemap $mapactionname]
	guibar
	guibutton "Bakat" "cleargui 1"
]

newgui loadmap [
	guitext "Skriv in banans namn och tryck Enter"
	guifield mapactionname 20 [mode $MODE; map $mapactionname]
	guibar
	guibutton "Bakat" "cleargui 1
	guitab "Spellage"
	@gamemodes
]

newgui skilllvl [
	guitext "Var god valj en fardighetsniva att byta till"
	guitext (at $skilllevelnames (- $skilllevel 1))
	guibar
	guibutton "Grundlaggande"		"skilllevel = 1"
	guibutton "Medel"	"skilllevel = 2"
	guibutton "Avancerat"		"skilllevel = 3"
]

newgui authors [
	guitext "Plantinum Arts Sandbox, Cube 2 for barn."
	guitext "Skapat av Michael Tomaino i Platinum Arts LLC."
	guitext "Med hjalp av Hirato."
	guitext "http://Kids.Platinumarts.Net"
	guitab "Motor"
	guitext "Cube 2 motorn."
	guitext "Skapad av Wouter van Oortmerssen."
	guitext "Och for tillfallet underhallen av Eihrul, och baby-rabbit"
	guitab "Testers"
	guitext "These people constantly report problems, without them,"
	guitext "PAS wouldn't be as great as it is now. Thanks a bunch!"
	guitext "linuxdonald"
	guitab "Tack!"
	guitext "Ett speciellt tack till alla artisterna vars texturer vi anvander."
	guitext "PAS skulle inte se i narheten av lika bra ut utan dem"
	guitext "och ett stort tack till dig for din nedladdning och ditt stod"
	guitab "Svenska"
	guitext "Svenska oversattningen gjordes av"
	guitext "Lucas Orsvarn"

]

newgui options [
	guitext "Valj en forinstallning"
	guitext "Alternativt kan du ga over till flikarna och modifiera dem manuellt"
	guibar
	guilist [
		guibutton "Ultimat	" "exec data/preset/ultimate.cfg"
		guibar
		guibutton "Valdigt Hog	" "exec data/preset/very-high.cfg"
		guibar
		guibutton "Hog" "exec data/preset/high.cfg"
	]
	guilist [
		guibutton "Medel	" "exec data/preset/med.cfg"
		guibar
		guibutton "Lag		" "exec data/preset/low.cfg"
		guibar
		guibutton "Valdigt Lag" "exec data/preset/very-low.cfg"
	]
	guibar
	guibutton "PG UP och PG DN som universell delta" [bind PAGEUP [universaldelta -1]; bind PAGEDOWN [universaldelta 1]]
	if (= $skilllevel 3) [guibutton "Debuging Settings" "showgui debugsettings"]
	guibutton "andra Sprak" "showgui language" $language
	guilist [
		guibutton "Modifiera GUI-Farger" "showgui setguicol"
		guibar
		guistayopen [
			guibutton "aterstall Farger" guiresetcolours
		]
	]
	guibutton "Konsollmeddelanden" "showgui console"
	guibutton "GUI/HUD-texturer" "showgui hud"

	if (= $skilllevel 1) [
		@options1
	]
	if (= $skilllevel 2) [
		@options2
	]
	if (= $skilllevel 3) [
		@options3
	]
	guitab "Upplosning"
	guilist [
		guilist [
			guibutton "320x240	"              "screenres 320 240"
			guibutton "640x480"              "screenres 640 480"
			guibutton "800x600"              "screenres 800 600"
			guibutton "1024x768"             "screenres 1024 768"
			guibutton "1152x768"             "screenres 1152 768"
			guibutton "1200x960"             "screenres 1200 960"
		]
		guibar
		guilist [
			guibutton "1280x800"             "screenres 1280 800"
			guibutton "1280x1024"            "screenres 1280 1024"
			guibutton "1440x900"             "screenres 1440 900"
			guibutton "1600x1200"            "screenres 1600 1200"
			guibutton "1680x1050"            "screenres 1680 1050"
			guibutton "1920x1200"            "screenres 1920 1200"
		]
	]
	if (! (= $skilllevel 1)) [
		guibar
		guitext "Manuell X-Upplosning		"
		guilistslider "screenx" "320 360 400 512 576 640 720 800 832 840 896 928 960 1024 1152 1200 1280 1400 1440 1600 1680 1792 1856 1920"
		guitext "Manuell Y-Upplosning"
		guilistslider "screeny" "172 200 240 300 312 350 384 400 432 450 480 512 525 600 624 672 696 720 768 800 864 900 960 1024 1050 1080 1200 1344 1392 1440"
		guibar
		guibutton "Tillampa manuell uplosning" "screenres $screenx $screeny"
	]
	guitab "ovrigt"
	guilist [
		guilist [
			guicheckbox "2D menyer" gui2d
			guitext "Muskanslighet	"
		]
		guilist [
			guicheckbox "GUI Fel					" guierrors
			newsens = $sensitivity
			guifield newsens 5 [sensitivity $newsens]
		]
	]
	guilist [
		guitext "Laddar Bakgrunder	"
		guibar
		guiradio "Av" loadbacktype 0
		guibar
		guiradio "Skarmdump (standard)" loadbacktype 1
		guibar
		guiradio "Bilder pa banan" loadbacktype 2
	]
] "Alternativ"

newgui language [
	guitext (format "Nuvarande sprak: %1" $language) $language
	guitext "Nyckel: M = meny	L = strangar"
	guibar
	@languages
]

newgui editing [
	if (= $skilllevel 1) [
		@editing1
	]
	if (= $skilllevel 2) [
		@editing2
	]
	if (= $skilllevel 3) [
		@editing3
	]
	guitab cfg
	guitext (mapcfgname)
	showfileeditor (mapcfgname) -50 11
]


newgui mapmodels [
    loop i (nummapmodels) [
        guibutton (mapmodelname $i) (concat newent mapmodel $i)
    ]
]

newgui mapmodel [
	guitext $tmpt
	guibar
	guitext "Riktning"
	guislider tmp0 0 360 [entupdate]
	guitext "Modell"
	guislider "tmp1" 0 91 [entupdate]
	guitext "Avtryckartyp"
	guislider tmp2 0 29 [entupdate]
	guitext "Avtryckarmarke"
	guislider tmp3 0 100 [entupdate]
	
	guitab "ovrigt"
	@quickeditmenu
	guitab "Banmodellista"
		loop i (nummapmodels) [
		guistayopen [guibutton (mapmodelname $i) (format "tmp1 = %1; entupdate" $i)]
	]
]

newgui particles [
	if (< $tmp0 3) [
		guitext "Typ (eldboll->rok->fontan)"
		guislider tmp0 0 2 entupdate
		guitext "Riktning"
		guislider tmp1 0 5 entupdate
	]
	if (= $tmp0 3) [
		parttocol $tmp2
		guitext "Storlek"
		guislider tmp1 -5 50 entupdate
		guitext "Farg (RGB)"
		partcolsliders tmp2
	]
	if (&& (|| (|| (= $tmp0 4) (= $tmp0 7)) (|| (|| (= $tmp0 8) (= $tmp0 9)) (= $tmp0 10))) (< $tmp1 256)) [
		parttocol $tmp3
		
		guilist [
			guilist [
				guiradio "Bloss" tmp0 4 [entupdate]
				guiradio "Blixt" tmp0 7 [entupdate]
				guiradio "Vatten" tmp0 10 [entupdate]
			]
			guilist [
				guiradio "Eld" tmp0 8 [entupdate]
				guiradio "Rok" tmp0 9 [entupdate]
			]
		]
		guibar
		guitext "Riktning"
		guislider tmp1 0 5 entupdate
		guitext "Langd"
		guislider tmp2 0 200 entupdate
		guitext "Farg (RGB)"
		partcolsliders tmp3
		guitext "Fade Time"
		guislider tmp4 0 10000 entupdate
	]
	if (&& (|| (|| (= $tmp0 4) (= $tmp0 7)) (|| (|| (= $tmp0 8) (= $tmp0 9)) (= $tmp0 10))) (> $tmp1 255)) [
		parttocol $tmp3
		setmultieffectname
		multieffectreverse = (> (- $tmp1 256) 31)
		if (= $multieffectreverse 0) [multieffectvalue = (- $tmp1 256)] [multieffectvalue = (- $tmp1 288)]
		
		guilist [
			guilist [
				guiradio "Bloss" tmp0 4 [entupdate]
				guiradio "Blixt" tmp0 7 [entupdate]
				guiradio "Vatten" tmp0 10 [entupdate]
			]
			guilist [
				guiradio "Eld" tmp0 8 [entupdate]
				guiradio "Rok" tmp0 9 [entupdate]
			]
		]
		guibar
		guitext $multieffectname
		guislider multieffectvalue 0 21 [tmp1 = (+ 256 (+ $multieffectvalue (* $multieffectreverse 32))); entupdate]
		guicheckbox "Reverse Direction" multieffectreverse 1 0 [tmp1 = (+ 256 (+ $multieffectvalue (* $multieffectreverse 32))); entupdate]
		guitext "Langd"
		guislider tmp2 0 200 entupdate
		guitext "Farg (RGB)"
		partcolsliders tmp3
		guitext "Fade Time"
		guislider tmp4 0 10000 entupdate
	]
	if (|| (= $tmp0 5) (= $tmp0 6)) [
		parttocol $tmp2
		guilist [
			guiradio "Normal stil" tmp0 5 [entupdate]
			guibar
			guiradio "Mot stil" tmp0 6 [entupdate]
		]
		guitext "Fangad Procent"
		guislider tmp1 0 100 [entupdate]
		guitext "Farg (RGB)"
		partcolsliders tmp2
	]
	if (|| (|| (= $tmp0 32) (= $tmp0 33)) (|| (= $tmp0 34) (= $tmp0 35))) [
		guilist [
			guilist [
				guiradio "Normal" tmp0 32 [entupdate]
				guiradio "Normal Med Gnistor" tmp0 33 [entupdate]
			]
			guilist [
				guiradio "Fixerad" tmp0 34 [entupdate]
				guiradio "Fixerad Med Gnistor" tmp0 35 [entupdate]
			]
		]
		guitext "Farg (RGB)"
		guislider tmp1 0 255 entupdate
		guislider tmp2 0 255 entupdate
		guislider tmp3 0 255 entupdate
		guitext "Size"
		guislider tmp4 0 1000 entupdate
	]
	if (= $tmp0 11) [
		parttocol $tmp2
		guitext "Particle Contents"
		guifield part_text_@tmp1 60
		guitext "Alias Tag"
		guislider tmp1 0 25 entupdate
		guitext "Colour (RGB)"
		partcolsliders tmp2
		guitext "Text Size"
		guislider tmp3 0 1000 entupdate
	]

	guitab type
	guibutton "Standard Partiklar" "tmp0 = (rnd 3); entupdate"
	guibutton "Explotion" "tmp0 = 3; entupdate"
	guibutton "Band/Bloss" "tmp0 = 4; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Flereffektsband/Bloss" "tmp0 = 4; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Fanga Stangar" "tmp0 = 5; entupdate"
	guibutton "Blixt" "tmp0 = 7;if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Flereffektsblixt" "tmp0 = 7; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Eld" "tmp0 = 8; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Flereffektseld" "tmp0 = 8; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Rok" "tmp0 = 9; if (> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Flereffektsrok" "tmp0 = 9; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Vatten" "tmp0 = 10; if(> $tmp1 255) [tmp1 = 0]; entupdate"
	guibutton "Flereffektsvatten" "tmp0 = 10; if (< $tmp1 256) [tmp1 = 256]; entupdate"
	guibutton "Linsoverstralning" "tmp0 = 32; entupdate"
	guibutton "Hovering Text" "tmp0 = 11; entupdate"
	
	guitab ent
	guilistsplit n 2 $enttypelist@(getgame) [
		guibutton $n [ entset @n ]       
	]  
	
	guitab misc
	@quickeditmenu
]

newgui quickedit [
	@quickeditmenu
	guitab "material"
	@matmenu
]

newgui heightfield [
	@brushmenu
	guitab "ovrigt"
	@quickeditmenu
]

newgui skies [
	guitext "Notera att den nuvarande himmeln INTE sparas med banan."
	guibar
	guitext (format "Nuvarande skybox	: 0%1" $skybox)
	guitext (format "Nuvarande cloudbox	: 0%1" $cloudbox)
	guitext (format "Nuvarande cloudlayer	: 0%1" $cloudlayer)
	guibar
	guitab Skies
	guilist [
		guilist [
			genskyitems $loopix loopix skybox
			genskyitems $amethyst7 amethyst7 skybox
			genskyitems $skyboxes skyboxes skybox
		]
		guibar
		showskyshot
		guibar
		guilist [
			genskyitems $vegastrike skyboxes/vs skybox
		]
	]
	
	guitab "cloudboxes"
	guilist [
		guilist [
			genskyitems $cloudboxen clouds cloudbox
		]
		guibar
		showskyshot
	]
	
	guitab cloudlayers
	guilist [
		guistayopen [
			guilist [
				loop i $numcloudlayers [
					guibutton (concatword "clouds " (+ $i 1)) (format "cloudlayer clouds/clouds%1" (+ $i 1))
				]
			]
			guibar
			guiimage (format "packages/sbpreviews/%1" (at $guirolloveraction 1)) $skyload 4 1 data/sandboxlogo
		]
	]
	
	guitab settings
	
	guititle "Skyboxes"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawsky
		]
		guibar
		guilist [
			guitext "Spin				"
			newspinsky = (*f $spinsky 10)
			guislider newspinsky -200 200 [spinsky (divf $newspinsky 10)]
		]
	]
	
	guititle "cloudboxes"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawclouds

			guitext "clip"
			newcloudclip = (*f $cloudclip 100)
			guislider newcloudclip 0 100 [cloudclip (divf $newcloudclip 100)]
		]
		guibar
		guilist [
			guitext "Spin				"
			newspinclouds = (*f $spinclouds 10)
			guislider newspinclouds -200 200 [spinclouds (divf $newspinclouds 10)]
		]
	]
	
	guititle "cloudlayers"
	guilist [
		guilist [
			guitext "Yaw				"
			guislider yawcloudlayer
			
			guitext "Fade"
			newcloudfade = (*f $cloudfade 100)
			guislider newcloudfade 0 100 [cloudfade (divf $newcloudfade 100)] 
			guitext "Scale"
			newcloudscale = (*f $cloudscale 100)
			guislider newcloudscale 10 400 [cloudscale (divf $newcloudscale 100)] 
			guitext "Colour"
			guilist [
				setcollevels "skycol" $cloudcolour
				guifield skycol1 3 [ skycol1 = (min (max 0 $skycol1) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
				guibar
				guifield skycol2 3 [ skycol2 = (min (max 0 $skycol2) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
				guibar
				guifield skycol3 3 [ skycol3 = (min (max 0 $skycol3) 255); cloudcolour (+ $skycol3 (+ (* $skycol2 0x100) (* $skycol1 0x10000)))]
			]
		]
		guibar
		guilist [
			guitext "Spin				"
			newspincloudlayer = (*f $spincloudlayer 10)
			guislider newspincloudlayer -200 200 [spincloudlayer (divf $newspincloudlayer 10)]
			guitext "Height"
			newcloudheight = (*f $cloudheight 100)
			guislider newcloudheight -100 100 [cloudheight (divf $newcloudheight 100s)] 
			guitext "Scroll-X"
			newcloudscrollx = (*f $cloudscrollx 100)
			guislider newcloudscrollx -100 100 [cloudscrollx (divf $newcloudscrollx 100)] 
			guitext "Scroll-Y"
			newcloudscrolly = (*f $cloudscrolly 100)
			guislider newcloudscrolly -100 100 [cloudscrolly (divf $newcloudscrolly 100)] 
		]
	]
]

newgui maps [
	guilist [
		guilist [
			genmapitems $mainmaps
		]
		showmapshot
	]
	guitab "Hammebyggda Banor"
	guibutton "Modifiera Lista" "showgui setmaps"
	guibar
	guilist [
		guilist [
			genmapitems $custom1
		]
		guilist [
			genmapitems $custom2
		]
		showmapshot
	]
	guitab "Spellage"
	@gamemodes
]

newgui setmaps [
	guitext "Skriv in namnet pa banan i falten nedan"
	guitext "Separera namnen med mellanrum om du vill ha fler an tva i listan"
	guibar
	guifield custom1 50
	guibar
	guifield custom2 50
	guibar
	guibutton "Bakat" "cleargui 1"
]

newgui entfind [
	guitext "Select which items to search for"
	guilist [
		guicheckbox "Type" dosearch0
		loop i 5 [
			guibar
			guicheckbox (concatword "ATR. " (+ $i 1)) (concatword "dosearch" (+ $i 1))
		]
	]
	guibar
	guistayopen [ guibutton "Copy Attributes from currently selected entity" [loop i 5 [(concatword "enta" $i) = (ea $i)]; loop i (listlen $enttypelist@(getgame)) [if (strcmp (et) (at $enttypelist@(getgame) $i)) [entt = $i; i = 19]] ] ]
	guilist [
		loop i 5 [
			guilist [
				guitext (format "ATR. %1" (+ $i 1))
				guifield (concatword "enta" $i) 6 [(concatword "enta" $i) = (min 32767 (max -32767 (getalias (concatword "enta" $i))))]
			]
			if (> 4 $i) [guibar]
		]
	]
	guibar
	guitext "* means wildcard (anything)"
	tmp = (concat (if $dosearch0 [at $enttypelist@(getgame) $entt] [result "*"]) (if $dosearch1 $enta0 [result "*"]) (if $dosearch2 $enta1 [result "*"]) (if $dosearch3 $enta2 [result "*"]) (if $dosearch4 $enta3 [result "*"]) (if $dosearch5 $enta4 [result "*"]))
	guistayopen [ 
		guibutton (format "Search for: %1" $tmp) (format "entfind %1" $tmp)
		guibutton (format "Print /entfind %1 to console" $tmp) (format "saycommand /entfind %1" $tmp)
	]
	
	guitab Type
	guilist [
		loop i (+ (div (listlen $enttypelist@(getgame)) 10) 1) [
			guilist [
				loop j (min (- (listlen $enttypelist@(getgame)) (* 10 $i)) 10) [
					guiradio (at $enttypelist@(getgame) (+ $j (* $i 10))) entt (+ $j (* $i 10))
				]
			]
		]
	]
]

newgui newparticles [
	guibutton "Skapa" "newent particles $newpartstdtype $newpartdir"
	guibar
	guilist [
		guiradio "Eldboll" newpartstdtype 0
		guibar
		guiradio "Rok" newpartstdtype 1
		guibar
		guiradio "Fontan" newpartstdtype 2
	]
	guibar
	guitext "Riktning"
	guislider newpartdir 0 5
	
	guitab Explosion
	guibutton "Skapa" "newent particles  3 $newpartexpsize (coltopart)"
	guibar
	guitext "Storlek"
	guislider newpartexpsize -5 50
	guitext "Farg (RGB)"
	partcolsliders
	
	guitab "Effekt"
	guibutton "Skapa" "newent particles $newpartmulttype $newpartdir $newpartmultlen (coltopart) $newpartfade"
	guibar
	guilist [
		guiradio "Bloss" newpartmulttype 4
		guibar
		guiradio "Blixt" newpartmulttype 7
		guibar
		guiradio "Eld" newpartmulttype 8
		guibar
		guiradio "Rok" newpartmulttype 9
		guibar
		guiradio "Vatten" newpartmulttype 10
	]
	guibar
	guitext "Riktning"
	guislider newpartdir 0 5
	guitext "Langd"
	guislider newpartmultlen 0 200
	guitext "Farg (RGB)"
	partcolsliders
	guitext "Fade Time"
	guislider newpartfade 0 10000
	
	guitab "Flereffekt"
	newpartmultieffectname
	guibutton "Skapa" "newent particles $newpartmulttype (+  256 (+ $newpartmulteffect (* 32 $newpartmultrev))) $newpartmultlen (coltopart) $newpartfade"
	guibar
	guilist [
		guiradio "Bloss" newpartmulttype 4
		guibar
		guiradio "Blixt" newpartmulttype 7
		guibar
		guiradio "Eld" newpartmulttype 8
		guibar
		guiradio "Rok" newpartmulttype 9
		guibar
		guiradio "Vatten" newpartmulttype 10
	]
	guibar
	guicheckbox "Omvand" newpartmultrev
	guitext $multieffectname
	guislider newpartmulteffect 0 21
	guitext "Langd"
	guislider newpartmultlen 0 200
	guitext "Farg (RGB)"
	partcolsliders
	guitext "Fade Time"
	guislider newpartfade 0 10000
	
	guitab "Stangar"
	guibutton "Skapa" "newent particles $newpartbartype $newpartbarprcnt (coltopart)"
	guibar
	guilist [
		guiradio "Standard" newpartbartype 5
		guibar
		guiradio "Mot" newpartbartype 6
	]
	guibar
	guitext "Procent"
	guislider newpartbarprcnt 0 100
	guitext "Farg (RGB)"
	partcolsliders
	
	guitab "Linsoverstralning"
	guibutton "Skapa" "newent particles $newpartflaretype $newpartflarecol1 $newpartflarecol2 $newpartflarecol3 $newpartsize"
	guibar
	guilist [
		guiradio "Normal" newentflaretype 32
		guibar
		guiradio "Normal Med Gnistor" newentflaretype 33
		guibar
		guiradio "Fixerad" newentflaretype 34
		guibar
		guiradio "Fierad Med Gnistor" newentflaretype 35
	]
	guibar
	guitext "Farg (RGB)"
	guislider newpartflarecol1 0 255
	guislider newpartflarecol2 0 255
	guislider newpartflarecol3 0 255
	guitext "Size"
	guislider newpartsize 0 1000
	
	guitab "Text"
	guibutton "Spawn entity" "newent particles 11 $newparttag (coltopart) $newpartsize"
	guitext "Alias tag"
	guislider newparttag 0 100
	part_text_@newparttag = (getalias part_text_@newparttag)
	guilist [
		guitext "Text:"
		guifield part_text_@newparttag 60
	]
	guitext "Colour (RGB)"
	partcolsliders
	guitext "Size"
	guislider newpartsize 0 1000
] "Standard"

newgui lightlerp [
	guititle "ovriga Ljusinstallningar"
	guitext "Lerp Vinkel"
	guislider "lerpangle"
	guitext "Lerp Underindela"
	guislider lerpsubdiv
	guitext "Lerp Underindela Storlek "
	guislider lerpsubdivsize
	guitext "Kanttolerans"
	guislider edgetolerence
	guitext "Rund Ljuskartetextur"
	guislider roundlightmaptex
	guibar
	guibutton "Bakat" "cleargui 1"
]

newgui intro [
	guitext "Det här ar forsta gangen du kor PAS."
	guitext "Den har menyn ar avsedd att hjalpa dig lara kanna spelet."
	guitext "Klicka i ladan nedan och skriv in ditt namn, nar du ar klar, tryck Enter."
	guibar
	newname = (getname)
	guifield newname 18 [name $newname] 
	guibar
	guitext "Det här ar en kryssruta, klicka pa den for att vaxla en valmojlighet."
	guitext "I detta exemplet kommer den byta mellan 2D- och 3D-menyer, sa valj den du gillar."
	guitext "Oroa dig inte, du kan alltid andra den senare."
	guicheckbox "2D, eller 3D GUI" gui2d
	guibar
	guibutton "Nasta" "showgui intro2"
]

newgui intro2 [
	guititle "UI Element"
	guitext "Den har menyn ar till for att lara dig forsta granssnittet i spelet."
	guitext "De olika elementen i menyn har olika utseenden.
	guibar
	guitext "Det här ar en knapp, klicka pa den for att utfora dess funktion."
	guistayopen [
		guibutton "Klicka Pa Mig" [echo "hihi, du klickade pa mig"]
	]
	guitext "Detta ar en rullningslist, klicka och dra for att andra vardena."
	guislider test -20 20
	guitext "Dessa ar radioknappar, de ar en hybrid mellan kryssrutan och knappen."
	guilist [
		guiradio "Klicka Pa Mig!" test2 1
		guiradio "Nej, Klicka Pa Mig!" test2 0
	]
	guitext "Har har du en kryssruta, exakt densamma som i forra rutan."
	guicheckbox "2D-/3D-granssnitt" gui2d
	guibar
	guibutton "Nasta" "showgui intro3"
] "The GUI"

newgui intro3 [
	guititle "Kort Knappforklaring"
	guibar
	guitext "W/A/S/D	Rorelse"
	guitext "E		Vaxla Redigeringslage"
	guitext "Mellanslag		Avmarkera Geometri/Hoppa"
	guitext "F2		Visa/Dolj Texturbiblioteket"
	guitext "F3		Visa Snabbredigeringsmenyn"
	guitext "F4		Visa Himmelmenyn"
	guitext "ESC		Visa Huvudmenyn/Stang Menyer"
	guitext "(vanster) CTRL/H	Hojdfaltslage"
	guibar
	guibutton "Nasta" "showgui intro4"
] Keys

newgui intro4 [
	guititle "Universella Deltamuterare"
	guitext "Skrollhjulet ar universella delta, vissa knappar andrar universella deltas funktion"
	guitext "if you only have 1 mouse button (ie; trackpad), please click the button right below"
	guibutton "set PG UP and PG DOWN to universal delta" [bind PAGEUP [universaldelta -1]; bind PAGEDOWN [universaldelta 1]]
	guibar
	guitext "Ingen		Lagg Till/Ta Bort Kuber"
	guitext "G		Justera Rutmonstrets Storlek"
	guitext "F		Skjut Valda Kubytor"
	guitext "Q		Skjut kanten din muspekare pekar pa"
	guitext "R		Rotera (90 grader)"
	guitext "Y		Modifiera Ditt Markerade Omrades Textur"
	guitext "B		Byt Det Valda Hojdfaltets Pensel"
	guitext ",		Vaxla Genom Valda Entiteter"
	guibar
	guibutton "Nasta" "showgui intro5"
] "Universal Delta"
	
newgui intro5 [
	guitext "Om du inte forstar vad nagon av de tidigare sakerna betydde,"
	guitext "ga bara in i redigeringslaget och experimentera."
	guitext "Det basta sattet att lara sig ar ofta att leka med verktygen."
	guitext "Om du vill se nagon av informationen igen, tryck bara pa ESC for att ga tillbaka."
	guibar
	guibutton "Slutfor"	"cleargui; showgui main"
]

newgui whatispvs [
	guitext "PVS ar en ocklusion-utsorteringsmetod."
	guitext "Precis som i manga andra spel sa ar synligheten forberaknad"
	guitext "sa folk som anvander billiga eller valdigt gamla kort"
	guitext "och inte har hardware occlusion query, kommer upptacka"
	guitext "att stora banor ar valdigt sega. Sa att forgenerera ockluderingen"
	guitext "tillater dem att se mycket storre banor."
	guibar
	guibutton "Bakat" "cleargui 1"
]

newgui setguicol [

	guitext "Titelfarger"
	guitext "Detta ar fargen pa menytitlarna... Mestadels"
	setcollevels guiticol $guititlecolour
	guislider guiticol1 0 255 settitlecol
	guislider guiticol2 0 255 settitlecol
	guislider guiticol3 0 255 settitlecol

	guitext "Textfarger"
	guitext "Det här ar fargen pa den mesta texten"
	setcollevels guitxtcol $guitextcolour
	guislider guitxtcol1 0 255 settextcol
	guislider guitxtcol2 0 255 settextcol
	guislider guitxtcol3 0 255 settextcol

	guitext "Dra over Farger"
	guitext "Har har du fargen GUI element far nar de ar markerade"
	setcollevels guirocol $guirollovercolour
	guislider guirocol1 0 255 setrollovercol
	guislider guirocol2 0 255 setrollovercol
	guislider guirocol3 0 255 setrollovercol

	guitab "Elementfarger"

	guitext "Knappfarger"
	guistayopen [ guibutton "Detta ar fargen pa knapparna i menyn, duh :P" "echo HEJ!" ]
	setcollevels guibutcol $guibuttoncolour
	guislider guibutcol1 0 255 setbuttoncol
	guislider guibutcol2 0 255 setbuttoncol
	guislider guibutcol3 0 255 setbuttoncol

	guitext "Kryssladefarger"
	guicheckbox "Det har paverkar fargen pa krysslador"
	setcollevels guicbcol $guicheckboxcolour
	guislider guicbcol1 0 255 setcheckboxcol
	guislider guicbcol2 0 255 setcheckboxcol
	guislider guicbcol3 0 255 setcheckboxcol

	guitext "Draglistfarger"
	guitext "Det här ar fargen pa draglisterna, se nedan"
	setcollevels guislicol $guislidercolour
	guislider guislicol1 0 255 setslidercol
	guislider guislicol2 0 255 setslidercol
	guislider guislicol3 0 255 setslidercol
] "GUI Colours"

newgui "hud" [
	guistayopen [
		guilist [
			guilist [
				guiimage "data/hud/2.1.png" "exec data/hud/2.1.cfg" 6 1
				guitext "2.1 Standardtema"
				guitext [Av Markus "makkE" Bekel]
			]
			guibar
			guilist [
				guiimage "data/hud/2.2.png" "exec data/hud/2.2.cfg" 6 1
				guitext "WiP 2.2 standardtema"
				guitext "Av Hirato Kirata"
			]
			guibar
			guilist [
				guiimage "data/hud/2.3.png" "exec data/hud/2.3.cfg" 6 1 data/sandboxlogo
				guitext "WiP 2.3 default Theme"
				guitext "By Hirato Kirata"
			]
		]
	]
]

newgui pastebuffer [
    guinoautotab [
        guieditor "#pastebuffer" -80 20
        guistayopen [
            guilist [
                guibutton "exek" [textfocus "#pastebuffer"; textexec]
                guibar
                guibutton "rensa" [textfocus "#pastebuffer"; textclear]
            ]
        ]
    ]
]

showfileeditor = [
    guinoautotab [
        guieditor $arg1 $arg2 $arg3
        guistayopen [
            guilist [
                guibutton "ladda" [textfocus @arg1; textload @arg1]
                guibar
                guibutton "spara" [textfocus @arg1; textsave @arg1]
                guibar
                guibutton "exek" [textfocus @arg1; textexec]
                guibar
                guibutton "kopiera" [textfocus @arg1; textcopy]
                guibar
                guibutton "klistra in" [textfocus @arg1; textpaste]
                guibar
                guibutton "valj" [textfocus @arg1; textselectall]
                guibar
                guibutton "rensa" [textfocus @arg1; textclear]
            ]
        ]
    ]
]

newgui scratchpad [
    guinoautotab [
        guieditor "#scratchpad" -80 20
        guistayopen [
            guilist [
                guibutton "exek" [textfocus "#scratchpad"; textexec]
                guibar
                guibutton "kopiera" [textfocus "#scratchpad"; textcopy]
                guibar
                guibutton "klistra in" [textfocus "#scratchpad"; textpaste]
                guibar
                guibutton "valj" [textfocus "#scratchpad"; textselectall]
                guibar
                guibutton "rensa" [textfocus "#scratchpad"; textclear]
            ]
        ]
    ]
]
